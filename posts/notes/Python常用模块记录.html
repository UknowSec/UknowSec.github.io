<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Python常用模块记录 · Uknow - Stay hungry Stay foolish</title><meta name="description" content="Python常用模块记录 - uknow"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/2.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div id="mask" style="display: none;"><img id="mask-image" src="#" style=" "></div><div class="wrap"><header><a href="/" class="logo-link"><img src="/2.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">Archive</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="https://github.com/uknowsec" target="_blank" class="nav-list-link">GitHub</a></li><li class="nav-list-item"><a href="http://weibo.com/uknowsec" target="_blank" class="nav-list-link">Weibo</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Python常用模块记录</h1><div class="post-time">Jul 7, 2018</div><div class="post-content"><!-- ttoc -->
<h2><span id="python-os模块">Python os模块</span></h2><p>os 模块提供了非常丰富的方法用来处理文件和目录。</p>
<h3><span id="权限">权限</span></h3><h4><span id="查看权限">查看权限</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">os.access(path,mode)</span><br><span class="line"></span><br><span class="line">path:指定文件路径</span><br><span class="line">mode:参数参数有F_OK(是否存在),R_OK(可读),W_OK(可写),X_OK(可执行)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import os                                                            </span><br><span class="line">&gt;&gt;&gt; os.access(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,os.F_OK)           </span><br><span class="line">True                                                                                         </span><br><span class="line">&gt;&gt;&gt; os.access(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,os.R_OK)           </span><br><span class="line">True                                                                     </span><br><span class="line">&gt;&gt;&gt; os.access(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,os.W_OK)           </span><br><span class="line">True                                                                     </span><br><span class="line">&gt;&gt;&gt; os.access(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,os.X_OK)           </span><br><span class="line">True</span><br></pre></td></tr></table></figure>
<h4><span id="更改权限">更改权限</span></h4><p>os.chmod() 方法用于更改文件或目录的权限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">os.chmod(path, mode)</span><br><span class="line"></span><br><span class="line">path -- 文件名路径或目录路径。</span><br><span class="line"> 权限指定：</span><br><span class="line">		stat.S_IXOTH: 其他用户有执行权0o001</span><br><span class="line">		stat.S_IWOTH: 其他用户有写权限0o002</span><br><span class="line">		stat.S_IROTH: 其他用户有读权限0o004</span><br><span class="line">		stat.S_IRWXO: 其他用户有全部权限(权限掩码)0o007</span><br><span class="line">		stat.S_IXGRP: 组用户有执行权限0o010</span><br><span class="line">		stat.S_IWGRP: 组用户有写权限0o020</span><br><span class="line">		stat.S_IRGRP: 组用户有读权限0o040</span><br><span class="line">		stat.S_IRWXG: 组用户有全部权限(权限掩码)0o070</span><br><span class="line">		stat.S_IXUSR: 拥有者具有执行权限0o100</span><br><span class="line">		stat.S_IWUSR: 拥有者具有写权限0o200</span><br><span class="line">		stat.S_IRUSR: 拥有者具有读权限0o400</span><br><span class="line">		stat.S_IRWXU: 拥有者有全部权限(权限掩码)0o700</span><br><span class="line">		stat.S_ISVTX: 目录里文件目录只有拥有者才可删除更改0o1000</span><br><span class="line">		stat.S_ISGID: 执行此文件其进程有效组为文件所在组0o2000</span><br><span class="line">		stat.S_ISUID: 执行此文件其进程有效用户为文件所有者0o4000</span><br><span class="line">		stat.S_IREAD: windows下设为只读</span><br><span class="line">		stat.S_IWRITE: windows下取消只读</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; os.chmod(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,stat.S_IREAD)</span><br><span class="line">&gt;&gt;&gt; os.access(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,os.W_OK)</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; os.access(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,os.F_OK)</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; os.access(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,os.X_OK)</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; os.access(&apos;C:/Users/Think/Desktop/Python/test.py&apos;,os.R_OK)</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
<h4><span id="更改所有者">更改所有者</span></h4><p>os.chown() 方法用于更改文件所有者，如果不修改可以设置为 -1, 你需要超级用户权限来执行权限修改操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chown()方法语法格式如下：</span><br><span class="line"></span><br><span class="line">os.chown(path, uid, gid);</span><br><span class="line"></span><br><span class="line">	path -- 设置权限的文件路径</span><br><span class="line"></span><br><span class="line">	uid -- 所属用户 ID</span><br><span class="line"></span><br><span class="line">	gid -- 所属用户组 ID</span><br></pre></td></tr></table></figure>
<h3><span id="目录">目录</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; os.getcwd() #返回当前工作的目录</span><br><span class="line">&apos;C:\\Users\\Think\\Desktop&apos;</span><br><span class="line">&gt;&gt;&gt; os.listdir(&apos;.&apos;) #返回指定目录下所有的文件和目录名</span><br><span class="line">[&apos;file.txt&apos;, &apos;test&apos;, &apos;caidan.py&apos;, &apos;test.txt&apos;, &apos;test.py&apos;, &apos;test1.py&apos;, &apos;enumerate.py&apos;, &apos;login.py&apos;]</span><br><span class="line">&gt;&gt;&gt; os.remove(&apos;test1.py&apos;) #删除指定文件</span><br><span class="line">&gt;&gt;&gt; os.rmdir(&apos;aaa&apos;)  #删除指定目录</span><br><span class="line">&gt;&gt;&gt; os.mkdir(&apos;directory&apos;)  #创建目录，只能创建一层目录</span><br><span class="line">&gt;&gt;&gt; os.system(&apos;whoami&apos;)  #执行shell命令</span><br><span class="line">Think</span><br><span class="line">&gt;&gt;&gt; os.path.getmtime(&apos;.&apos;) #返回在此path下最后一次修改的时间戳</span><br><span class="line">1530964033.3031383</span><br></pre></td></tr></table></figure>
<h3><span id="文件">文件</span></h3><h4><span id="打开文件">打开文件</span></h4><p>os.open() 方法用于打开一个文件，并且设置需要的打开选项，模式参数mode参数是可选的，默认为 0777。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">os.open(file, flags[, mode]);</span><br><span class="line">	</span><br><span class="line">	file -- 要打开的文件</span><br><span class="line"></span><br><span class="line">	flags -- 该参数可以是以下选项，多个使用 &quot;|&quot; 隔开：</span><br><span class="line"></span><br><span class="line">	os.O_RDONLY: 以只读的方式打开</span><br><span class="line">	os.O_WRONLY: 以只写的方式打开</span><br><span class="line">	os.O_RDWR : 以读写的方式打开</span><br><span class="line">	os.O_NONBLOCK: 打开时不阻塞</span><br><span class="line">	os.O_APPEND: 以追加的方式打开</span><br><span class="line">	os.O_CREAT: 创建并打开一个新文件</span><br><span class="line">	os.O_TRUNC: 打开一个文件并截断它的长度为零（必须有写权限）</span><br><span class="line">	os.O_EXCL: 如果指定的文件存在，返回错误</span><br><span class="line">	os.O_SHLOCK: 自动获取共享锁</span><br><span class="line">	os.O_EXLOCK: 自动获取独立锁</span><br><span class="line">	os.O_DIRECT: 消除或减少缓存效果</span><br><span class="line">	os.O_FSYNC : 同步写入</span><br><span class="line">	os.O_NOFOLLOW: 不追踪软链接</span><br></pre></td></tr></table></figure>
<h3><span id="读取文件">读取文件</span></h3><p>os.read() 方法用于从文件描述符 fd 中读取最多 n 个字节，返回包含读取字节的字符串，文件描述符 fd对应文件已达到结尾, 返回一个空字符串。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">os.read(fd,n)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	fd -- 文件描述符。</span><br><span class="line"></span><br><span class="line">	n -- 读取的字节。</span><br></pre></td></tr></table></figure>
<h3><span id="删除文件">删除文件</span></h3><p>os.unlink() 方法用于删除文件,如果文件是一个目录则返回一个错误</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">os.unlink(path)</span><br><span class="line"></span><br><span class="line">	path -- 删除的文件路径</span><br></pre></td></tr></table></figure>
<h2><span id="python-sys模块">Python sys模块</span></h2></div></article></div></section><footer><div class="paginator"><a href="/posts/notes/PHP-SECURITY-CALENDAR-2017.html" class="prev">上一篇</a><a href="/posts/notes/Web中常见的绕过和技巧总结.html" class="next">下一篇</a></div><div class="copyright"><p>© 2016 - 2024 <a href="https://uknowsec.cn">uknow</a>  Stay hungry,Stay foolish.</p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-115504647-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?225ebcce29d319519ac7c7690425d1d4";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>