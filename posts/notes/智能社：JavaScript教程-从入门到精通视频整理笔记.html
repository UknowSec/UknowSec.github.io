<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 智能社：JavaScript教程-从入门到精通视频-整理笔记 · Uknow - Stay hungry Stay foolish</title><meta name="description" content="智能社：JavaScript教程-从入门到精通视频-整理笔记 - uknow"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/2.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div id="mask" style="display: none;"><img id="mask-image" src="#" style=" "></div><div class="wrap"><header><a href="/" class="logo-link"><img src="/2.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">Archive</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="https://github.com/uknowsec" target="_blank" class="nav-list-link">GitHub</a></li><li class="nav-list-item"><a href="http://weibo.com/uknowsec" target="_blank" class="nav-list-link">Weibo</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">智能社：JavaScript教程-从入门到精通视频-整理笔记</h1><div class="post-time">Nov 19, 2016</div><div class="post-content"><!-- ttoc -->
<p><img src="https://uknowsec-1251971873.cos.ap-shanghai.myqcloud.com/vaBq86vyU_oNsNHGme3T1HWSdJ6vvn6X5xAgtgVzRWvEAQAA_wAAAEpQ.jpg" alt="javascript"></p>
<h1><span id="chu-tan-javascript-mei-li-1">初探JavaScript魅力-1</span><a href="#chu-tan-javascript-mei-li-1" class="header-anchor">#</a></h1><h2><span id="javascript-shi-shi-me">JavaScript是什么</span><a href="#javascript-shi-shi-me" class="header-anchor">#</a></h2><p>根据用户的一些操作，然后来修改页面上的一些元素、属性等。</p>
<p>（1）HTML+CSS静态页面，JS给页面添加动的效果</p>
<p>（2）网页特效的原理</p>
<p>javascript就是修改样式</p>
<p>（3）编写JS的流程：</p>
<p>【1】布局：HTML+CSS</p>
<p>【2】属性：确定要修改哪些属性</p>
<p>【3】事件：确定用户做哪些操作</p>
<p>【4】编写JS：在事件中，用JS来修改页面元素的样式</p>
<p>补：事件：就是用户操作，如鼠标点击、移入、移出等</p>
<p>（4）id：在css中，id作为css里的一个选择符存在，而在JS里它有更加广泛的用途，</p>
<p>   在JS中扮演标签(元素)名字的作用，如<div id="div1">……</div>，id在这个例子里扮演了div名字的作用，div1就是div的名字</p>
<p>（5）div1.style.display=’block’</p>
<p>点 .      ——&gt; 的，一般来说是所属的关系，其实是属性</p>
<p>等号 = ——&gt; 在数学里，x=5，表示x的值就是5，即等号就是相等的意思</p>
<p> 在JS里，等号并不是相等的意思，等号指赋值，把什么变成什么，把=右边的值赋给左边</p>
<h2><span id="di-yi-ge-js-jian-rong-xing-wen-ti-document-getelementbyid">第一个JS兼容性问题:document.getElementById</span><a href="#di-yi-ge-js-jian-rong-xing-wen-ti-document-getelementbyid" class="header-anchor">#</a></h2><p>（1）在FF和低版本的chrome下，是不能直接拿着id就用的，存在兼容问题</p>
<p>真正兼容的写法是document.getElementById(‘id名字’)，在任何浏览器下均可用</p>
<p>如：document.getElementById(‘div1’);</p>
<p>   通过div1这个id把元素获取出来，然后再来用</p>
<p>注：记住，不能直接拿着id就用，而必须的通过getElementById（把元素获取出来）获取一下，然后才可以用 </p>
<p>（2）网页换肤</p>
<p>(1) 任何标签都可以加ID，包括link</p>
<p>(2) 任何标签的任何属性，也都可以修改</p>
<p>(3) HTML里怎么写，JS里就怎么写，只有一个例外就是class，因为class在JS里是关键字（保留字），所以不能直接拿来用，要写成className</p>
<h2><span id="yin-ru-han-shu-yin-wei-zhi-jie-zai-shi-jian-nei-xie-dai-ma-hui-hen-luan">引入函数：因为直接在事件内写代码会很乱</span><a href="#yin-ru-han-shu-yin-wei-zhi-jie-zai-shi-jian-nei-xie-dai-ma-hui-hen-luan" class="header-anchor">#</a></h2><p>（1）函数基本格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[javascript] view plain copy</span><br><span class="line"></span><br><span class="line">    function 函数名()  </span><br><span class="line">    &#123;  </span><br><span class="line">            代码  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p> JS里的函数和css里的class有点相似，像class它最大的一个功能就是你把这个样式写到class里边，然后只要需要这套样式的地方，直接把那个class拿过去用就</p>
<p> 可以了，同样JS里的函数也一样.</p>
<p>（2）函数的定义和调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[javascript] view plain copy</span><br><span class="line"></span><br><span class="line">    function show()        //定义  </span><br><span class="line">    &#123;  </span><br><span class="line">        alert(&apos;abc&apos;);  </span><br><span class="line">    &#125;  </span><br><span class="line">    show();               //调用</span><br></pre></td></tr></table></figure>
<p>函数定义：只是告诉系统有这个函数，不会实际执行</p>
<p>函数调用：真正执行函数里的代码</p>
<p>注：函数的定义和调用缺一不可，只有定义则没反应，只有调用则显示出错了</p>
<p>（3）引入变量的概念：考虑到重用</p>
<p>变量：就是给东西取了个别名</p>
<p>如var oDiv=document.getElementById(‘div1’);给后面这大串取了个别名叫oDiv。看到oDiv就跟看到document.getElementById(‘div1’)是一样的效果</p>
<p>注：(1) 如果你要操作一个元素，你必须先把它选择过来，比如现在要操作的是text这个元素，那么需要先给它加个id，比如id=”txt1”,然后function函数里用</p>
<p> getElementById把它给选择过来</p>
<p>(2) 要操作谁，就要获取谁  </p>
<p>(3) 需要一个函数，这个函数是为按钮准备的，因为它点击需要一个函数</p>
<h2><span id="if-pan-duan-ru-dian-ji-an-niu-xian-shi-yin-cang-div-dan-chu-cai-dan">if判断：如点击按钮显示/隐藏div(弹出菜单)</span><a href="#if-pan-duan-ru-dian-ji-an-niu-xian-shi-yin-cang-div-dan-chu-cai-dan" class="header-anchor">#</a></h2><p>（1）if判断基本格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[javascript] view plain copy</span><br><span class="line"></span><br><span class="line">    if(条件)  </span><br><span class="line">    &#123;  </span><br><span class="line">    语句1  </span><br><span class="line">    &#125;  </span><br><span class="line">    else  </span><br><span class="line">    &#123;  </span><br><span class="line">    语句2  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>翻译：如果条件成立就执行语句1，如果条件不成立就执行语句2</p>
<p>  注：<br> (1) if ：如果<br> (2) 条件：在IS里是判断的意思，就是遇到不同的情况就做不同的操作，遇到不同的问题就做不同的处理</p>
<p>（2）单等和双等(=和==)</p>
<p>=    赋值（改变，变成）</p>
<p>==   判断（判断两边是否相等）</p>
<p>（3）为a链接添加JS<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!--&lt;a href=&quot;javascript:alert(&apos;a&apos;);&quot;&gt;链接&lt;/a&gt; --&gt;     </span><br><span class="line"></span><br><span class="line">&lt;a href=&quot;javascript:;&quot;&gt;链接&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<p>一般a里不加JS代码，而是空的js原因：(1) 在a里加js代码不好 (2) 加空的js代码而不是加##，因为它不会像##那样一点就跳到页首。</p>
<h1><span id="chu-tan-javascript-mei-li-2">初探JavaScript魅力-2</span><a href="#chu-tan-javascript-mei-li-2" class="header-anchor">#</a></h1><h2><span id="han-shu-chuan-can">函数传参</span><a href="#han-shu-chuan-can" class="header-anchor">#</a></h2><h3><span id="gai-bian-bei-jing-yan-se">改变背景颜色</span><a href="#gai-bian-bei-jing-yan-se" class="header-anchor">#</a></h3><p>(1)参数传参：参数就是占位符（占住一个位置，以便于后续向里面塞东西）<br>    什么时候用传参–函数里定不下来的东西<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function setColor(color)</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.background=color;</span><br><span class="line">&#125;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;变黑&quot; onclick=&quot;setColor(&apos;black&apos;);&quot; /&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;</span><br></pre></td></tr></table></figure></p>
<p>上例定义函数setColor，它有一个参数为color,从input中传递一个参数为black，才是color这个参数就为black,从而实现函数参数的传递。</p>
<h3><span id="gai-bian-div-de-ren-yi-yang-shi">改变Div的任意样式</span><a href="#gai-bian-div-de-ren-yi-yang-shi" class="header-anchor">#</a></h3><p>(1)操纵属性的两种方式<br>   将属性名作为参数传递</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> 1.</span><br><span class="line"> </span><br><span class="line"> function setStyle(name, value)</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	//第一种操作属性的方法  特点:[]里面为一个字符串，可以用变量代替</span><br><span class="line">	oDiv.style[&apos;name&apos;]=value;</span><br><span class="line">	//第二种操作属性的方法  特点：方便</span><br><span class="line">	oDiv.style.name.=value;</span><br><span class="line">&#125;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;变绿&quot; onclick=&quot;setStyle(&apos;background&apos;, &apos;green&apos;)&quot; /&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="style-yu-classname">style与className</span><a href="#style-yu-classname" class="header-anchor">#</a></h3><p> (1)元素.style.属性=xxx是修改行间样式</p>
<p>样式优先级：*&lt;标签&lt;class&lt;ID&lt;行间</p>
<p>如下代码 已给出style的属性再修改className就不会有效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;无标题文档&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">##div1 &#123;width:200px; height:200px; border:1px solid black;&#125;</span><br><span class="line">.box &#123;background:red;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function toRed()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.className=&apos;box&apos;;</span><br><span class="line">&#125;</span><br><span class="line">function toGreen()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.background=&apos;green&apos;;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;变红&quot; onclick=&quot;toRed()&quot; /&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;变绿&quot; onclick=&quot;toGreen()&quot; /&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>注意：<br>1.若已给出style的属性再修改className就不会有效果<br>2.对于同一个元素，要么选择操纵class要么操纵style</p>
<h2><span id="ti-qu-xing-jian-shi-jian">提取行间事件</span><a href="#ti-qu-xing-jian-shi-jian" class="header-anchor">#</a></h2><h3><span id="wei-yuan-su-tian-jia-shi-jian">为元素添加事件</span><a href="#wei-yuan-su-tian-jia-shi-jian" class="header-anchor">#</a></h3><p>(1)事件和其他属性一样，可以用JS添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function 名字()</span><br><span class="line">&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line">oBtn.onclick=名字   //直接获取onclick属性</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">oBtn.onclick=function ()    //匿名函数</span><br><span class="line">&#123;</span><br><span class="line">	....</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3><span id="window-onload-de-yi-yi">window.onload的意义</span><a href="#window-onload-de-yi-yi" class="header-anchor">#</a></h3><p> 1.script标签一般不放body里<br> 2.使用window.online加载HTML的代码</p>
<p>(3)行为（JS）、样式(CSS)、结构(HTML)三者分离</p>
<p> （2）获取一组元素<br>（1）getElementsByTagName<br>   优势：<br>   1.获取一组元素（数组）<br>   2.配合循环使用<br>   3..length获取数组长度</p>
<h2><span id="xun-huan">循环</span><a href="#xun-huan" class="header-anchor">#</a></h2><h3><span id="while-xun-huan-for-xun-huan">while循环、for循环</span><a href="#while-xun-huan-for-xun-huan" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">while(条件)</span><br><span class="line">&#123;</span><br><span class="line">	语句</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   for循环</span><br><span class="line"></span><br><span class="line">for(初始化;条件;自增)</span><br><span class="line">&#123;</span><br><span class="line">	语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（2）用for循环为一组元素添加事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for(var i=0;i&lt;aDiv.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">	//i-&gt;0,1,2,3</span><br><span class="line">	aDiv[i].style.background=&apos;red&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> （3）实现全选、反选、不选</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">	oBtn1.onclick=function ()     //全选</span><br><span class="line">&#123;</span><br><span class="line">	for(var i=0;i&lt;aCh.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aCh[i].checked=true;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">oBtn2.onclick=function ()      //不选</span><br><span class="line">&#123;</span><br><span class="line">	for(var i=0;i&lt;aCh.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aCh[i].checked=false;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">oBtn3.onclick=function ()        //反选</span><br><span class="line">&#123;</span><br><span class="line">	for(var i=0;i&lt;aCh.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(aCh[i].checked==true)</span><br><span class="line">		&#123;</span><br><span class="line">			aCh[i].checked=false;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			aCh[i].checked=true;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2><span id="xuan-xiang-qia">选项卡</span><a href="#xuan-xiang-qia" class="header-anchor">#</a></h2><h3><span id="an-niu-de-shi-xian">按钮的实现</span><a href="#an-niu-de-shi-xian" class="header-anchor">#</a></h3><p>(1)添加事件<br>    this的使用<br>    用this选定当前元素，用来修改当前元素的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">	for(var i=0;i&lt;aBtn.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aBtn[i].onclick=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			this.className=&apos;active&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">```	</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">(2)先清空所有按钮，再选中当前按钮</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```	for(var i=0;i&lt;aBtn.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aBtn[i].onclick=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			for(var i=0;i&lt;aBtn.length;i++)</span><br><span class="line">			&#123;</span><br><span class="line">				aBtn[i].className=&apos;&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">			this.className=&apos;active&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="nei-rong-de-shi-xian">内容的实现</span><a href="#nei-rong-de-shi-xian" class="header-anchor">#</a></h3><p>(1)索引值的使用<br>(2)什么时候用索引值——需要知道“第几个”的时候<br>(3)html添加index——会被浏览器过滤<br>(3)js添加index</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	var aBtn=oDiv.getElementsByTagName(&apos;input&apos;);</span><br><span class="line">	var aDiv=oDiv.getElementsByTagName(&apos;div&apos;);</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;aBtn.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aBtn[i].index=i;</span><br><span class="line">		aBtn[i].onclick=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			for(var i=0;i&lt;aBtn.length;i++)</span><br><span class="line">			&#123;</span><br><span class="line">				aBtn[i].className=&apos;&apos;;</span><br><span class="line">				aDiv[i].style.display=&apos;none&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">			this.className=&apos;active&apos;;</span><br><span class="line">			//alert(this.index);</span><br><span class="line">			aDiv[this.index].style.display=&apos;block&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="jian-yi-ri-li">简易日历</span><a href="#jian-yi-ri-li" class="header-anchor">#</a></h2><h3><span id="cheng-xu-shi-xian-si-lu">程序实现思路</span><a href="#cheng-xu-shi-xian-si-lu" class="header-anchor">#</a></h3><p>(1)类似选项卡，只是下面只有一个div<br>(2)InnerHTML的使用<br>    innerHTML 属性设置或返回表格行的开始和结束标签之间的 HTML。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTxt=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		oDiv.innerHTML=oTxt.value;</span><br><span class="line">		//alert(oDiv.innerHTML);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="shu-zu-de-shi-yong">数组的使用</span><a href="#shu-zu-de-shi-yong" class="header-anchor">#</a></h3><pre><code>数组对象用来在单独的变量名中存储一系列的值。
</code></pre><p> 定义数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var myArray=new Array()</span><br></pre></td></tr></table></figure>
<p>数组赋值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line">var mycars=new Array()</span><br><span class="line">mycars[0]=&quot;Saab&quot;</span><br><span class="line">mycars[1]=&quot;Volvo&quot;</span><br><span class="line">mycars[2]=&quot;BMW&quot;</span><br><span class="line">2.</span><br><span class="line">var mycars=new Array(&quot;Saab&quot;,&quot;Volvo&quot;,&quot;BMW&quot;)</span><br></pre></td></tr></table></figure>
<h3><span id="zi-fu-chuan-lian-jie">字符串连接 (+)</span><a href="#zi-fu-chuan-lian-jie" class="header-anchor">#</a></h3><p>作用：连接两个字符串<br>问题：连接中的优先级（用括号改变优先级）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">alert(&apos;abc&apos;+(12+5)+&apos;def&apos;);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h1><span id="javascript-ji-chu">JavaScript基础</span><a href="#javascript-ji-chu" class="header-anchor">#</a></h1><h2><span id="javascript-zu-cheng">JavaScript组成</span><a href="#javascript-zu-cheng" class="header-anchor">#</a></h2><p>   ECMAScript：解释器、翻译<br>   DOM：Document Object Model 操作HTML<br>   BOM：Browser Object Model  操作浏览器<br>  兼容性问题：<br>   ECMA        几乎没有兼容性问题<br>   DOM        有一些操作不兼容<br>   BOM        没有兼容问题（完全不兼容）</p>
<h2><span id="bian-liang-lei-xing">变量类型</span><a href="#bian-liang-lei-xing" class="header-anchor">#</a></h2><h3><span id="lei-xing-typeof-yun-suan-fu">类型：typeof运算符</span><a href="#lei-xing-typeof-yun-suan-fu" class="header-anchor">#</a></h3><p>  用法、返回值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a=12;</span><br><span class="line">typeof a;</span><br></pre></td></tr></table></figure></p>
<h4><span id="bian-liang-lei-xing">变量类型</span><a href="#bian-liang-lei-xing" class="header-anchor">#</a></h4><p>变量本来没有类型，变量类型取决于他保存的类型<br>一个变量应该只存放一种类型的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var a=12;</span><br><span class="line">typeof a;   //number</span><br><span class="line"></span><br><span class="line">var a=&apos;abc&apos;;</span><br><span class="line">typeof a；  //string</span><br><span class="line"></span><br><span class="line">var a=function();</span><br><span class="line">typeof a;  //function</span><br><span class="line"></span><br><span class="line">var a=document;</span><br><span class="line">typeof a;   //object</span><br><span class="line"></span><br><span class="line">var b;</span><br><span class="line">typeof b;   //undefined</span><br><span class="line"></span><br><span class="line">//undefined出现的情况</span><br><span class="line">//1.真的没有定义</span><br><span class="line">//2.定义了，没有赋值</span><br></pre></td></tr></table></figure>
<h3><span id="shu-ju-lei-xing-zhuan-huan">数据类型转换</span><a href="#shu-ju-lei-xing-zhuan-huan" class="header-anchor">#</a></h3><p>(1)显式类型转换(强制类型转换)<br>  [1]parseInt() 把非数字的原始值转换成数字<br>   检测方法：<br>   parseInt() 方法首先查看位置 0 处的字符，判断它是否是个有效数字；如果不是，该方法将返回 NaN，不再继续执行其他操作。但如果该字符是有效数字，该方法将查看位置 1 处的字符，进行同样的测试。这一过程将持续到发现非有效数字的字符为止，此时 parseInt() 将把该字符之前的字符串转换成数字。</p>
<pre><code>var iNum1 = parseInt(&quot;12345red&quot;);    //返回 12345
var iNum1 = parseInt(&quot;0xA&quot;);    //返回 10
var iNum1 = parseInt(&quot;56.9&quot;);    //返回 56
var iNum1 = parseInt(&quot;red&quot;);    //返回 NaN  Not a number
</code></pre><p>parseInt() 方法还有基模式，可以把二进制、八进制、十六进制或其他任何进制的字符串转换成整数。基是由 parseInt() 方法的第二个参数指定的，所以要解析十六进制的值，需如下调用 parseInt() 方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var iNum1 = parseInt(&quot;AF&quot;, 16);	//返回 175</span><br></pre></td></tr></table></figure>
<p>当然，对二进制、八进制甚至十进制（默认模式），都可以这样调用 parseInt() 方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var iNum1 = parseInt(&quot;10&quot;, 2);	//返回 2</span><br><span class="line">var iNum2 = parseInt(&quot;10&quot;, 8);	//返回 8</span><br><span class="line">var iNum3 = parseInt(&quot;10&quot;, 10);	//返回 10</span><br></pre></td></tr></table></figure>
<p>  [2]parseFloat()<br>  从位置 0 开始查看每个字符，直到找到第一个非有效的字符为止，然后把该字符之前的字符串转换成整数。<br>  第一个出现的小数点是有效字符。如果有两个小数点，第二个小数点将被看作无效的。parseFloat() 会把这个小数点之前的字符转换成数字。这意味着字符串 “11.22.33” 将被解析成 11.22。<br>  此外，parseFloat() 方法也没有基模式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var fNum1 = parseFloat(&quot;12345red&quot;);	//返回 12345</span><br><span class="line">var fNum2 = parseFloat(&quot;0xA&quot;);	//返回 NaN</span><br><span class="line">var fNum3 = parseFloat(&quot;11.2&quot;);	//返回 11.2</span><br><span class="line">var fNum4 = parseFloat(&quot;11.22.33&quot;);	//返回 11.22</span><br><span class="line">var fNum5 = parseFloat(&quot;0102&quot;);	//返回 102</span><br><span class="line">var fNum1 = parseFloat(&quot;red&quot;);	//返回 NaN</span><br></pre></td></tr></table></figure>
<p>(2)NaN的意义和检测</p>
<p>[1]NaN = Not a number<br>[2]NaN和NaN是不相等的<br>[3]is NaN(a) 判断是否为NaN</p>
<h3><span id="yin-shi-lei-xing-zhuan-huan">隐式类型转换</span><a href="#yin-shi-lei-xing-zhuan-huan" class="header-anchor">#</a></h3><p>(1)==、===<br> [1] == 先转换类型，然后比较<br> [2] === 不转换类型，直接比</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a=5;</span><br><span class="line">var b=&apos;5&apos;;</span><br><span class="line">alert(a==b);	//true		先转换类型，然后比较</span><br><span class="line">alert(a===b);	//false		不转换类型，直接比</span><br></pre></td></tr></table></figure>
<p>(2)减法<br>先转换再相减<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a=&apos;12&apos;;</span><br><span class="line">var b=&apos;5&apos;;</span><br><span class="line"></span><br><span class="line">alert(a+b);		//1.字符串连接		2.数字相加</span><br><span class="line">alert(a-b);		//1.数字相减</span><br></pre></td></tr></table></figure></p>
<h3><span id="zuo-yong-yu">作用域</span><a href="#zuo-yong-yu" class="header-anchor">#</a></h3><p>局部变量、全局变量</p>
<p>局部作用域<br>变量在函数内声明，变量为局部作用域。<br>局部变量：只能在函数内部访问。</p>
<p>因为局部变量只作用于函数内，所以不同的函数可以使用相同名称的变量。<br>局部变量在函数开始执行时创建，函数执行完后局部变量会自动销毁。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 此处不能调用 carName 变量</span><br><span class="line"></span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    var carName = &quot;Volvo&quot;;</span><br><span class="line"></span><br><span class="line">    // 函数内可调用 carName 变量</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（1）全局变量<br>变量在函数外定义，即为全局变量。<br>全局变量有 全局作用域: 网页中所有脚本和函数均可使用。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var carName = &quot; Volvo&quot;;</span><br><span class="line"></span><br><span class="line">// 此处可调用 carName 变量</span><br><span class="line"></span><br><span class="line">function myFunction() &#123;</span><br><span class="line"></span><br><span class="line">    // 函数内可调用 carName 变量</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果变量在函数内没有声明（没有使用 var 关键字），该变量为全局变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> // 此处可调用 carName 变量</span><br><span class="line"></span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    carName = &quot;Volvo&quot;;</span><br><span class="line"></span><br><span class="line">    // 此处可调用 carName 变量</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（2）闭包<br>子函数可以使用父函数的局部变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function aaa()		//父函数</span><br><span class="line">&#123;</span><br><span class="line">	var a=12;</span><br><span class="line">	</span><br><span class="line">	function bbb()	//子函数</span><br><span class="line">	&#123;</span><br><span class="line">		alert(a);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	bbb();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">aaa();</span><br></pre></td></tr></table></figure>
<h3><span id="ming-ling-gui-fan">命令规范</span><a href="#ming-ling-gui-fan" class="header-anchor">#</a></h3><p>（1）命名规范及必要性<br>  可读性——能看懂<br>  规范性——符合规则</p>
<p>（2）匈牙利命名法<br>  类型前缀（变量取名）</p>
<table>
<thead>
<tr>
<th>类型</th>
<th style="text-align:left">前缀</th>
<th>类型</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>数组</td>
<td style="text-align:left">a</td>
<td>Array</td>
<td>aItems</td>
</tr>
<tr>
<td>布尔值</td>
<td style="text-align:left">b</td>
<td>Boolean</td>
<td>bIsComplete</td>
</tr>
<tr>
<td>浮点数</td>
<td style="text-align:left">f</td>
<td>Float</td>
<td>fPrice</td>
</tr>
<tr>
<td>函数</td>
<td style="text-align:left">fn</td>
<td>Function</td>
<td>fnHandler</td>
</tr>
<tr>
<td>整数</td>
<td style="text-align:left">i</td>
<td>Integer</td>
<td>iItemCount</td>
</tr>
<tr>
<td>对象</td>
<td style="text-align:left">o</td>
<td>Object</td>
<td>oDiv1</td>
</tr>
<tr>
<td>正则表达式</td>
<td style="text-align:left">re</td>
<td>RegExp</td>
<td>reEmailCheck</td>
</tr>
<tr>
<td>字符串</td>
<td style="text-align:left">s</td>
<td>String</td>
<td>sUserName</td>
</tr>
<tr>
<td>变体变量</td>
<td style="text-align:left">v</td>
<td>Variant</td>
<td>vAnything</td>
</tr>
</tbody>
</table>
<p>  首字母大写</p>
<h3><span id="yun-suan-fu">运算符</span><a href="#yun-suan-fu" class="header-anchor">#</a></h3><p>算术：+ 加、- 减、<em> 乘、/ 除、% 取模<br>赋值：=、+=、-=、</em>=、/=、%=<br>关系：&lt;、&gt;、&lt;=、&gt;=、==、===、!=、!==<br>逻辑：&amp;&amp; 与、|| 或、! 否<br>条件：var iMax = (iNum1 &gt; iNum2) ? iNum1 : iNum2;</p>
<p>（1）用于字符串的 + 运算符</p>
<ul>
<li>运算符用于把文本值或字符串变量加起来（连接起来）。</li>
</ul>
<p>如需把两个或多个字符串变量连接起来，请使用 + 运算符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">txt1=&quot;What a very&quot;;</span><br><span class="line">txt2=&quot;nice day&quot;;</span><br><span class="line">txt3=txt1+txt2;</span><br></pre></td></tr></table></figure>
<p>在以上语句执行后，变量 txt3 包含的值是 “What a verynice day”。</p>
<p>要想在两个字符串之间增加空格，需要把空格插入一个字符串之中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">txt1=&quot;What a very &quot;;</span><br><span class="line">txt2=&quot;nice day&quot;;</span><br><span class="line">txt3=txt1+txt2;</span><br></pre></td></tr></table></figure>
<p>或者把空格插入表达式中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">txt1=&quot;What a very&quot;;</span><br><span class="line">txt2=&quot;nice day&quot;;</span><br><span class="line">txt3=txt1+&quot; &quot;+txt2;</span><br></pre></td></tr></table></figure>
<p>在以上语句执行后，变量 txt3 包含的值是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;What a very nice day&quot;</span><br></pre></td></tr></table></figure>
<p>（2）对字符串和数字进行加法运算</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x=5+5;</span><br><span class="line">document.write(x);  //10</span><br><span class="line"></span><br><span class="line">x=&quot;5&quot;+&quot;5&quot;;</span><br><span class="line">document.write(x);  //55</span><br><span class="line"></span><br><span class="line">x=5+&quot;5&quot;;</span><br><span class="line">document.write(x);  //55</span><br><span class="line"></span><br><span class="line">x=&quot;5&quot;+5;</span><br><span class="line">document.write(x);  //55</span><br></pre></td></tr></table></figure>
<p>规则是：<br>如果把数字与字符串相加，结果将成为字符串。</p>
<p>（3）运算符优先级</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>. [] ()</td>
<td style="text-align:left">字段访问、数组下标、函数调用以及表达式分组</td>
</tr>
<tr>
<td>++ – - ~ ! delete new typeof void</td>
<td style="text-align:left">一元运算符、返回数据类型、对象创建、未定义值</td>
</tr>
<tr>
<td>* / %</td>
<td style="text-align:left">乘法、除法、取模</td>
</tr>
<tr>
<td>+ - +</td>
<td style="text-align:left">加法、减法、字符串连接</td>
</tr>
<tr>
<td>&lt;&lt; &gt;&gt; &gt;&gt;&gt;</td>
<td style="text-align:left">移位</td>
</tr>
<tr>
<td>&lt; &lt;= &gt; &gt;= instanceof</td>
<td style="text-align:left">小于、小于等于、大于、大于等于、是否为特定类的实例</td>
</tr>
<tr>
<td>== != === !==</td>
<td style="text-align:left">等于、不等于、严格相等、非严格相等</td>
</tr>
<tr>
<td>&amp;</td>
<td style="text-align:left">按位与</td>
</tr>
<tr>
<td>^</td>
<td style="text-align:left">按位异或</td>
</tr>
<tr>
<td>l</td>
<td style="text-align:left">按位或</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td style="text-align:left">逻辑与</td>
</tr>
<tr>
<td>ll</td>
<td style="text-align:left">逻辑或</td>
</tr>
<tr>
<td>?:</td>
<td style="text-align:left">条件</td>
</tr>
<tr>
<td>= oP=</td>
<td style="text-align:left">赋值、运算赋值</td>
</tr>
<tr>
<td>,</td>
<td style="text-align:left">多重求值</td>
</tr>
</tbody>
</table>
<h2><span id="cheng-xu-liu-cheng-kong-zhi">程序流程控制</span><a href="#cheng-xu-liu-cheng-kong-zhi" class="header-anchor">#</a></h2><h3><span id="pan-duan-if-switch">判断(if、switch、?:)</span><a href="#pan-duan-if-switch" class="header-anchor">#</a></h3><ul>
<li><p>if</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">if()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(条件1)</span><br><span class="line">&#123;</span><br><span class="line">	语句1</span><br><span class="line">&#125;</span><br><span class="line">else if(条件2)</span><br><span class="line">&#123;</span><br><span class="line">	语句2</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">	语句n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>switch</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">switch(变量)</span><br><span class="line">&#123;</span><br><span class="line">	case 值1:</span><br><span class="line">		语句1</span><br><span class="line">		break;</span><br><span class="line">	case 值2:</span><br><span class="line">		语句2</span><br><span class="line">		break;</span><br><span class="line">	......</span><br><span class="line">	default:</span><br><span class="line">		语句n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>三目条件运算符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">条件?语句1:语句2</span><br><span class="line"></span><br><span class="line">if(条件)</span><br><span class="line">&#123;</span><br><span class="line">	语句1</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">	语句2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="xun-huan-while-for">循环(while、for)</span><a href="#xun-huan-while-for" class="header-anchor">#</a></h3><ul>
<li>while、for<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">while(条件)</span><br><span class="line">&#123;</span><br><span class="line">	语句</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   for循环</span><br><span class="line"></span><br><span class="line">for(初始化;条件;自增)</span><br><span class="line">&#123;</span><br><span class="line">	语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="tiao-chu-break-continue">跳出(break、continue)</span><a href="#tiao-chu-break-continue" class="header-anchor">#</a></h3><ul>
<li><p>continue 语句中断循环中的迭代，如果出现了指定的条件，然后继续循环中的下一个迭代。</p>
</li>
<li><p>break 语句可用于跳出循环。break 语句跳出循环后，会继续执行该循环之后的代码（如果有的话）</p>
</li>
</ul>
<h3><span id="shi-me-shi-zhen-shi-me-shi-jia">什么是真、什么是假</span><a href="#shi-me-shi-zhen-shi-me-shi-jia" class="header-anchor">#</a></h3><ul>
<li>真：true、非零数字、非空字符串、非空对象</li>
<li>假：false、数字零、空字符串、空对象、undefined</li>
</ul>
<h2><span id="json">Json</span><a href="#json" class="header-anchor">#</a></h2><h3><span id="json">Json</span><a href="#json" class="header-anchor">#</a></h3><ul>
<li><p>JSON：JavaScript 对象表示法（JavaScript Object Notation）。</p>
</li>
<li><p>JSON 是存储和交换文本信息的语法。类似 XML。</p>
</li>
<li><p>JSON 比 XML 更小、更快，更易解析。</p>
</li>
</ul>
<h3><span id="json-yu-shu-zu-qu-bie">Json与数组区别</span><a href="#json-yu-shu-zu-qu-bie" class="header-anchor">#</a></h3><ul>
<li><p>下标：Json下标为字符，数组下标为数字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var json=&#123;a: 12, b: 5, c: 7&#125;;</span><br><span class="line">var arr=[12, 5, 7];</span><br><span class="line"></span><br><span class="line">alert(json[&apos;a&apos;]);</span><br><span class="line">alert(arr[0]);</span><br></pre></td></tr></table></figure>
</li>
<li><p>.length</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alert(json.length);     错误，json没有length</span><br><span class="line">alert(arr.length);	  正确，而数组有length</span><br></pre></td></tr></table></figure>
<ul>
<li>循环</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">for(var i=0;i&lt;arr.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;第&apos;+i+&apos;个东西：&apos;+arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for(var i in arr)</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;第&apos;+i+&apos;个东西：&apos;+arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="json-he-for-in">Json和for in</span><a href="#json-he-for-in" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for(var i in json)</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;第&apos;+i+&apos;个东西：&apos;+json[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1><span id="shen-ru-javascript">深入JavaScript</span><a href="#shen-ru-javascript" class="header-anchor">#</a></h1><h2><span id="han-shu-fan-hui-zhi">函数返回值</span><a href="#han-shu-fan-hui-zhi" class="header-anchor">#</a></h2><h3><span id="shi-me-shi-han-shu-fan-hui-zhi">什么是函数返回值</span><a href="#shi-me-shi-han-shu-fan-hui-zhi" class="header-anchor">#</a></h3><ul>
<li>函数的执行结果</li>
<li>可以没有return</li>
</ul>
<h3><span id="yi-ge-han-shu-ying-gai-zhi-fan-hui-yi-chong-lei-xing-de-zhi">一个函数应该只返回一种类型的值</span><a href="#yi-ge-han-shu-ying-gai-zhi-fan-hui-yi-chong-lei-xing-de-zhi" class="header-anchor">#</a></h3><h2><span id="han-shu-chuan-can">函数传参</span><a href="#han-shu-chuan-can" class="header-anchor">#</a></h2><h3><span id="ke-bian-can-bu-ding-can-arguments">可变参（不定参）：arguments</span><a href="#ke-bian-can-bu-ding-can-arguments" class="header-anchor">#</a></h3><ul>
<li>参数的个数可变，参数数组</li>
</ul>
<p>在函数代码中，使用特殊对象 arguments，开发者无需明确指出参数名，就能访问它们。<br>arguments 对象检测函数的参数个数，引用属性 arguments.length 即可</p>
<h3><span id="qu-fei-xing-jian-yang-shi-bu-neng-yong-lai-she-zhi">取非行间样式(不能用来设置)</span><a href="#qu-fei-xing-jian-yang-shi-bu-neng-yong-lai-she-zhi" class="header-anchor">#</a></h3><ul>
<li>obj.currentStyle[attr]         仅兼容IE</li>
<li>getComputedStyle(obj, false)[attr]          仅兼容火狐，chrome</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IE</span><br><span class="line">alert(oDiv.currentStyle.width);</span><br><span class="line"></span><br><span class="line">Chrome、FF</span><br><span class="line">alert(getComputedStyle(oDiv, false).width);      //flase 处参数可以任意</span><br></pre></td></tr></table></figure>
<h4><span id="jian-rong-han-shu-bian-xie">兼容函数编写</span><a href="#jian-rong-han-shu-bian-xie" class="header-anchor">#</a></h4><ul>
<li><p>style:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:200px; height:200px; background:red;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>script:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function getStyle(obj, name)</span><br><span class="line">&#123;</span><br><span class="line">	if(obj.currentStyle)</span><br><span class="line">	&#123;</span><br><span class="line">		return obj.currentStyle[name];</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return getComputedStyle(obj, false)[name];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;                  //函数主体</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">		</span><br><span class="line">	//	alert(getStyle(oDiv, &apos;width&apos;));   //单一样式</span><br><span class="line">	alert(getStyle(oDiv, &apos;backgroundColor&apos;));      //复合样式 background 有图片，颜色等</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="shu-zu-ji-chu">数组基础</span><a href="#shu-zu-ji-chu" class="header-anchor">#</a></h2><h3><span id="ding-yi">定义</span><a href="#ding-yi" class="header-anchor">#</a></h3><ul>
<li>var arr=[12,5,8,9];</li>
<li>var arr=new Array[12,5,8,9];</li>
<li>没有任何差别，[]的性能略高，因为代码短</li>
</ul>
<h3><span id="shu-zu-de-shu-xing">数组的属性</span><a href="#shu-zu-de-shu-xing" class="header-anchor">#</a></h3><h4><span id="length">length</span><a href="#length" class="header-anchor">#</a></h4><ul>
<li><p>既可以获取长度，又可以设置长度</p>
</li>
<li><p>应用：快速清空数组<br>script:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line"></span><br><span class="line">arr.length=3;   </span><br><span class="line"></span><br><span class="line">alert(arr);  //运行结果为1，2，3</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="shu-zu-de-fang-fa">数组的方法</span><a href="#shu-zu-de-fang-fa" class="header-anchor">#</a></h3><h4><span id="tian-jia">添加</span><a href="#tian-jia" class="header-anchor">#</a></h4><ul>
<li>push(元素)，从尾部添加</li>
<li>unshift(元素)，从头部添加<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3];</span><br><span class="line"></span><br><span class="line">arr.push(4); 	1,2,3,4</span><br><span class="line">//arr.ushift(4);   4,1,2,3</span><br><span class="line">alert(arr);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="shan-chu">删除</span><a href="#shan-chu" class="header-anchor">#</a></h4><ul>
<li>pop()，从尾部弹出</li>
<li>shift()，从头部弹出</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3];</span><br><span class="line"></span><br><span class="line">arr.pop();		1,2</span><br><span class="line">//arr.shift();  2,3   </span><br><span class="line">alert(arr);</span><br></pre></td></tr></table></figure>
<h4><span id="cha-ru-shan-chu-splice">插入、删除(splice)</span><a href="#cha-ru-shan-chu-splice" class="header-anchor">#</a></h4><ul>
<li><p>splice(开始, 长度,元素…)<br>先删除，后插入</p>
</li>
<li><p>splice(开始,长度)<br>删除</p>
</li>
<li><p>splice(开始, 0, 元素…)<br>插入</p>
</li>
<li><p>splice(开始，a,b1,b2..bn)   a=n<br>替换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line"></span><br><span class="line">arr.splice(2, 3);   // 1,2,6</span><br><span class="line"></span><br><span class="line">arr.splice(2, 0, &apos;a&apos;, &apos;b&apos;, &apos;c&apos;); // 1,a,b,c,2,3,4,5,6</span><br><span class="line"></span><br><span class="line">arr.splice(2, 2, &apos;a&apos;, &apos;b&apos;);   //  1,2,a,b,5,6</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="lian-jie-concat-shu-zu-2">连接 concat(数组2)</span><a href="#lian-jie-concat-shu-zu-2" class="header-anchor">#</a></h4><ul>
<li>连接两个数组<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a=[1,2,3];</span><br><span class="line">var b=[4,5,6];</span><br><span class="line">a.concat(b);   // 1,2,3,4,5,6</span><br><span class="line">b.concat(a);   // 4,5,6,1,2,3</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="pin-jie-join-fen-ge-fu">拼接 join(分隔符)</span><a href="#pin-jie-join-fen-ge-fu" class="header-anchor">#</a></h4><ul>
<li>用分隔符，组合数组元素，生成字符串</li>
<li>字符串split<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4];</span><br><span class="line">arr.join(&apos;-&apos;);    //1-2-3-4</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="pai-xu-sort-bi-jiao-han-shu">排序 sort([比较函数])</span><a href="#pai-xu-sort-bi-jiao-han-shu" class="header-anchor">#</a></h4><p>sort([比较函数])，排序一个数组</p>
<ul>
<li>排序一个字符串数组</li>
<li><p>排序一个数字数组</p>
</li>
<li><p>排序一个字符串数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr=[&apos;float&apos;, &apos;width&apos;, &apos;alpha&apos;, &apos;zoom&apos;, &apos;left&apos;];</span><br><span class="line"></span><br><span class="line">arr.sort();   //alpha,float,left,width,zoom</span><br></pre></td></tr></table></figure>
</li>
<li><p>排序一个数字数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var arr=[12, 8, 99, 19, 112];</span><br><span class="line"></span><br><span class="line">arr.sort(function (n1, n2)&#123;</span><br><span class="line">	return n1-n2;</span><br><span class="line">	/*if(n1&lt;n2)</span><br><span class="line">	&#123;</span><br><span class="line">		return -1;</span><br><span class="line">	&#125;</span><br><span class="line">	else if(n1&gt;n2)</span><br><span class="line">	&#123;</span><br><span class="line">		return 1;</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return 0;</span><br><span class="line">	&#125;*/</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1><span id="dom-ji-chu-1">DOM基础-1</span><a href="#dom-ji-chu-1" class="header-anchor">#</a></h1><p>DOM 是 W3C（万维网联盟）的标准。</p>
<p>DOM 定义了访问 HTML 和 XML 文档的标准：<br>“W3C 文档对象模型 （DOM） 是中立于平台和语言的接口，它允许程序和脚本动态地访问和更新文档的内容、结构和样式。”</p>
<p>W3C DOM 标准被分为 3 个不同的部分：</p>
<pre><code>核心 DOM - 针对任何结构化文档的标准模型
XML DOM - 针对 XML 文档的标准模型
HTML DOM - 针对 HTML 文档的标准模型
</code></pre><h2><span id="dom-jie-dian-1">DOM节点-1</span><a href="#dom-jie-dian-1" class="header-anchor">#</a></h2><p>根据 W3C 的 HTML DOM 标准，HTML 文档中的所有内容都是节点：</p>
<ul>
<li>整个文档是一个文档节点</li>
<li>每个 HTML 元素是元素节点</li>
<li>HTML 元素内的文本是文本节点</li>
<li>每个 HTML 属性是属性节点</li>
<li>注释是注释节点</li>
</ul>
<h3><span id="fang-fa">方法</span><a href="#fang-fa" class="header-anchor">#</a></h3><p>一些常用的 HTML DOM 方法：</p>
<ul>
<li>getElementById(id) - 获取带有指定 id 的节点（元素）</li>
<li>appendChild(node) - 插入新的子节点（元素）</li>
<li>removeChild(node) - 删除子节点（元素）</li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>getElementById()</td>
<td style="text-align:left">返回带有指定 ID 的元素。</td>
</tr>
<tr>
<td>getElementsByTagName()</td>
<td style="text-align:left">返回包含带有指定标签名称的所有元素的节点列表（集合/节点数组）。</td>
</tr>
<tr>
<td>getElementsByClassName()</td>
<td style="text-align:left">返回包含带有指定类名的所有元素的节点列表。</td>
</tr>
<tr>
<td>appendChild()</td>
<td style="text-align:left">把新的子节点添加到指定节点。</td>
</tr>
<tr>
<td>removeChild()</td>
<td style="text-align:left">删除子节点。</td>
</tr>
<tr>
<td>replaceChild()</td>
<td style="text-align:left">替换子节点。</td>
</tr>
<tr>
<td>insertBefore()</td>
<td style="text-align:left">在指定的子节点前面插入新的子节点。</td>
</tr>
<tr>
<td>createAttribute()</td>
<td style="text-align:left">创建属性节点。</td>
</tr>
<tr>
<td>createElement()</td>
<td style="text-align:left">创建元素节点。</td>
</tr>
<tr>
<td>createTextNode()</td>
<td style="text-align:left">创建文本节点。</td>
</tr>
<tr>
<td>getAttribute()</td>
<td style="text-align:left">返回指定的属性值。</td>
</tr>
<tr>
<td>setAttribute()</td>
<td style="text-align:left">把指定属性设置或修改为指定的值。</td>
</tr>
</tbody>
</table>
<h3><span id="shu-xing">属性</span><a href="#shu-xing" class="header-anchor">#</a></h3><p>属性是节点（HTML 元素）的值，您能够获取或设置。</p>
<h4><span id="innerhtml">innerHTML</span><a href="#innerhtml" class="header-anchor">#</a></h4><p>获取元素内容的最简单方法是使用 innerHTML 属性。</p>
<p>innerHTML 属性对于获取或替换 HTML 元素的内容很有用。</p>
<h4><span id="nodename">nodeName</span><a href="#nodename" class="header-anchor">#</a></h4><p>nodeName 属性规定节点的名称。</p>
<ul>
<li>nodeName 是只读的</li>
<li>元素节点的 nodeName 与标签名相同</li>
<li>属性节点的 nodeName 与属性名相同</li>
<li>文本节点的 nodeName 始终是 ##text</li>
<li>文档节点的 nodeName 始终是 ##document</li>
</ul>
<p>注释：nodeName 始终包含 HTML 元素的大写字母标签名。</p>
<h4><span id="nodevalue">nodeValue</span><a href="#nodevalue" class="header-anchor">#</a></h4><p>nodeValue 属性规定节点的值。</p>
<ul>
<li>元素节点的 nodeValue 是 undefined 或 null</li>
<li>文本节点的 nodeValue 是文本本身</li>
<li>属性节点的 nodeValue 是属性值</li>
</ul>
<h4><span id="nodetype">nodeType</span><a href="#nodetype" class="header-anchor">#</a></h4><p>nodeType 属性返回节点的类型。nodeType 是只读的。</p>
<p>比较重要的节点类型有：</p>
<table>
<thead>
<tr>
<th>元素类型</th>
<th style="text-align:left">NodeType</th>
</tr>
</thead>
<tbody>
<tr>
<td>元素</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td>属性</td>
<td style="text-align:left">2</td>
</tr>
<tr>
<td>文本</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td>注释</td>
<td style="text-align:left">8</td>
</tr>
<tr>
<td>文档</td>
<td style="text-align:left">9</td>
</tr>
</tbody>
</table>
<h1><span id="dom-ji-chu-2">DOM基础-2</span><a href="#dom-ji-chu-2" class="header-anchor">#</a></h1><h2><span id="xun-huan-zi-jie-dian">循环子节点</span><a href="#xun-huan-zi-jie-dian" class="header-anchor">#</a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line"></span><br><span class="line">//IE6-8</span><br><span class="line">//alert(oUl.childNodes.length);</span><br><span class="line">for(var i=0;i&lt;oUl.childNodes.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">	//nodeType==3	-&gt;	文本节点</span><br><span class="line">	//nodeType==1	-&gt;	元素节点</span><br><span class="line">	//alert(oUl.childNodes[i].nodeType);</span><br><span class="line">	</span><br><span class="line">	if(oUl.childNodes[i].nodeType==1)</span><br><span class="line">	&#123;</span><br><span class="line">		oUl.childNodes[i].style.background=&apos;red&apos;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>兼容，不算文本节点，只算元素。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line"></span><br><span class="line">alert(oUl.children.length);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="parentnode">parentNode</span><a href="#parentnode" class="header-anchor">#</a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">	var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line"></span><br><span class="line">	alert(oUl.parentNode);</span><br><span class="line">	</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">	&lt;li&gt;&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="offsetparent">offsetParent</span><a href="#offsetparent" class="header-anchor">#</a></h2><p>获取定位的父级</p>
<h2><span id="shou-wei-zi-jie-dian">首位子节点</span><a href="#shou-wei-zi-jie-dian" class="header-anchor">#</a></h2><h3><span id="firstchild-lastchild">firstChild、lastChild</span><a href="#firstchild-lastchild" class="header-anchor">#</a></h3><p>获取首位子节点（包括文本）</p>
<h3><span id="firstelementchild-lastelementchild">firstElementChild lastElementChild</span><a href="#firstelementchild-lastelementchild" class="header-anchor">#</a></h3><p>获取首位元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line"></span><br><span class="line">//IE6-8</span><br><span class="line">//oUl.firstChild.style.background=&apos;red&apos;;</span><br><span class="line"></span><br><span class="line">//高级浏览器</span><br><span class="line">//oUl.firstElementChild.style.background=&apos;red&apos;;</span><br><span class="line"></span><br><span class="line">if(oUl.firstElementChild)</span><br><span class="line">&#123;</span><br><span class="line">	oUl.firstElementChild.style.background=&apos;red&apos;;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">	oUl.firstChild.style.background=&apos;red&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="yuan-su-shu-xing-cao-zuo">元素属性操作</span><a href="#yuan-su-shu-xing-cao-zuo" class="header-anchor">#</a></h2><p>元素属性操作</p>
<ul>
<li>第一种：oDiv.style.display=“block”;</li>
<li>第二种：oDiv.style[“display”]=“block”;</li>
<li>第三种：Dom方式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var oTxt=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line"></span><br><span class="line">oBtn.onclick=function ()</span><br><span class="line">&#123;</span><br><span class="line">	//oTxt.value=&apos;asdfasd&apos;;</span><br><span class="line">	//oTxt[&apos;value&apos;]=&apos;xczcvb&apos;;</span><br><span class="line">	</span><br><span class="line">	oTxt.setAttribute(&apos;value&apos;, &apos;erwertwert&apos;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>DOM方式操作元素属性</p>
<ul>
<li>获取：getAttribute(名称)</li>
<li>设置：setAttribute(名称, 值)</li>
<li>删除：removeAttribute(名称)</li>
</ul>
<h2><span id="dom-yuan-su-ling-huo-cha-zhao">DOM元素灵活查找</span><a href="#dom-yuan-su-ling-huo-cha-zhao" class="header-anchor">#</a></h2><h3><span id="yong-classname-xuan-ze-yuan-su">用className选择元素</span><a href="#yong-classname-xuan-ze-yuan-su" class="header-anchor">#</a></h3><ul>
<li><p>如何用className选择元素<br>选出所有元素<br>通过className条件筛选</p>
</li>
<li><p>封装成函数</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function getByClass(oParent, sClass)</span><br><span class="line">&#123;</span><br><span class="line">	var aResult=[];</span><br><span class="line">	var aEle=oParent.getElementsByTagName(&apos;*&apos;);  //通配符 所有标签</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;aEle.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(aEle[i].className==sClass)</span><br><span class="line">		&#123;</span><br><span class="line">			aResult.push(aEle[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	return aResult;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1><span id="dom-cao-zuo-ying-yong">DOM操作应用</span><a href="#dom-cao-zuo-ying-yong" class="header-anchor">#</a></h1><h2><span id="chuang-jian-cha-ru-he-shan-chu-yuan-su">创建、插入和删除元素</span><a href="#chuang-jian-cha-ru-he-shan-chu-yuan-su" class="header-anchor">#</a></h2><h3><span id="chuang-jian-dom-yuan-su">创建DOM元素</span><a href="#chuang-jian-dom-yuan-su" class="header-anchor">#</a></h3><ul>
<li>createElement(标签名)        创建一个节点</li>
<li>appendChild(节点)            追加一个节点<br>例子：为ul插入li<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	var oTxt=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var oLi=document.createElement(&apos;li&apos;);</span><br><span class="line">		</span><br><span class="line">		oLi.innerHTML=oTxt.value;</span><br><span class="line">		</span><br><span class="line">		//父级.appendChild(子节点);</span><br><span class="line">		oUl.appendChild(oLi);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;input id=&quot;txt1&quot; type=&quot;text&quot;/&gt;</span><br><span class="line">&lt;input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;创建li&quot;/&gt;</span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">// 追加一个节点</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="cha-ru-yuan-su">插入元素</span><a href="#cha-ru-yuan-su" class="header-anchor">#</a></h3><ul>
<li>insertBefore(节点, 原有节点)    在已有元素前插入<br>例子：倒序插入li<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	var oTxt=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var oLi=document.createElement(&apos;li&apos;);</span><br><span class="line">		var aLi=oUl.getElementsByTagName(&apos;li&apos;);</span><br><span class="line">		</span><br><span class="line">		oLi.innerHTML=oTxt.value;</span><br><span class="line">		</span><br><span class="line">		//父级.appendChild(子节点);</span><br><span class="line">		//oUl.appendChild(oLi);</span><br><span class="line">		if(aLi.length&gt;0)         //判断是不是第一个节点</span><br><span class="line">		&#123;</span><br><span class="line">			oUl.insertBefore(oLi, aLi[0]);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			oUl.appendChild(oLi);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;input id=&quot;txt1&quot; type=&quot;text&quot;/&gt;</span><br><span class="line">&lt;input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;创建li&quot;/&gt;</span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="shan-chu-dom-yuan-su">删除DOM元素</span><a href="#shan-chu-dom-yuan-su" class="header-anchor">#</a></h3><ul>
<li>removeChild(节点)            删除一个节点<br>例子：删除li</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var aA=document.getElementsByTagName(&apos;a&apos;);</span><br><span class="line">	var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;aA.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aA[i].onclick=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			oUl.removeChild(this.parentNode);</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">	&lt;li&gt;asfasd &lt;a href=&quot;javascript:;&quot;&gt;删除&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;5645 &lt;a href=&quot;javascript:;&quot;&gt;删除&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;ghdfjgj &lt;a href=&quot;javascript:;&quot;&gt;删除&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;mvbnmvnb &lt;a href=&quot;javascript:;&quot;&gt;删除&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="wen-dang-sui-pian">文档碎片</span><a href="#wen-dang-sui-pian" class="header-anchor">#</a></h2><ul>
<li>仅在低级的浏览器上才能提高性能</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	var oFrag=document.createDocumentFragment();  //创建一个文档碎片</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;10000;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		var oLi=document.createElement(&apos;li&apos;);</span><br><span class="line">		</span><br><span class="line">		oFrag.appendChild(oLi);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	oUl.appendChild(oFrag);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
<h1><span id="dom-cao-zuo-ying-yong-gao-ji">DOM操作应用高级</span><a href="#dom-cao-zuo-ying-yong-gao-ji" class="header-anchor">#</a></h1><h2><span id="biao-ge-ying-yong">表格应用</span><a href="#biao-ge-ying-yong" class="header-anchor">#</a></h2><h3><span id="huo-qu">获取</span><a href="#huo-qu" class="header-anchor">#</a></h3><p>tBodies、tHead、tFoot、rows、cells</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	</span><br><span class="line">	//alert(oTab.getElementsByTagName(&apos;tbody&apos;)[0].getElementsByTagName(&apos;tr&apos;)[1].getElementsByTagName(&apos;td&apos;)[1].innerHTML);</span><br><span class="line">	alert(oTab.tBodies[0].rows[1].cells[1].innerHTML);   </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">姓名：&lt;input id=&quot;name&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">年龄：&lt;input id=&quot;age&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">&lt;input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;添加&quot; /&gt;</span><br><span class="line">&lt;input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;搜索&quot; /&gt;</span><br><span class="line">&lt;table id=&quot;tab1&quot; border=&quot;1&quot; width=&quot;500&quot;&gt;</span><br><span class="line">	&lt;thead&gt;</span><br><span class="line">    	&lt;td&gt;ID&lt;/td&gt;</span><br><span class="line">    	&lt;td&gt;姓名&lt;/td&gt;</span><br><span class="line">    	&lt;td&gt;年龄&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;操作&lt;/td&gt;</span><br><span class="line">    &lt;/thead&gt;</span><br><span class="line">    &lt;tbody&gt;</span><br><span class="line">    	&lt;tr&gt;</span><br><span class="line">        	&lt;td&gt;1&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;Blue&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;27&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    	&lt;tr&gt;</span><br><span class="line">        	&lt;td&gt;2&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;张三&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;23&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    	&lt;tr&gt;</span><br><span class="line">        	&lt;td&gt;3&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;李四&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;28&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    	&lt;tr&gt;</span><br><span class="line">        	&lt;td&gt;4&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;王五&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;25&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    	&lt;tr&gt;</span><br><span class="line">        	&lt;td&gt;5&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;张伟&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;24&lt;/td&gt;</span><br><span class="line">        	&lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/tbody&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="ge-xing-bian-se">隔行变色</span><a href="#ge-xing-bian-se" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	var oldColor=&apos;&apos;;  //定义变量保存原来的颜色</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;oTab.tBodies[0].rows.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		oTab.tBodies[0].rows[i].onmouseover=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			oldColor=this.style.background;</span><br><span class="line">			this.style.background=&apos;green&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">		oTab.tBodies[0].rows[i].onmouseout=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			this.style.background=oldColor;   </span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		if(i%2)</span><br><span class="line">		&#123;</span><br><span class="line">			oTab.tBodies[0].rows[i].style.background=&apos;&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			oTab.tBodies[0].rows[i].style.background=&apos;#CCC&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="tian-jia-shan-chu-yi-xing">添加、删除一行</span><a href="#tian-jia-shan-chu-yi-xing" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oName=document.getElementById(&apos;name&apos;);</span><br><span class="line">	var oAge=document.getElementById(&apos;age&apos;);</span><br><span class="line">	var id=oTab.tBodies[0].rows.length+1;</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var oTr=document.createElement(&apos;tr&apos;);</span><br><span class="line">		</span><br><span class="line">		var oTd=document.createElement(&apos;td&apos;);</span><br><span class="line">		oTd.innerHTML=id++;	//?</span><br><span class="line">		oTr.appendChild(oTd);</span><br><span class="line">		</span><br><span class="line">		var oTd=document.createElement(&apos;td&apos;);</span><br><span class="line">		oTd.innerHTML=oName.value;</span><br><span class="line">		oTr.appendChild(oTd);</span><br><span class="line">		</span><br><span class="line">		var oTd=document.createElement(&apos;td&apos;);</span><br><span class="line">		oTd.innerHTML=oAge.value;</span><br><span class="line">		oTr.appendChild(oTd);</span><br><span class="line">		</span><br><span class="line">		var oTd=document.createElement(&apos;td&apos;);</span><br><span class="line">		oTd.innerHTML=&apos;&lt;a href=&quot;javascript:;&quot;&gt;删除&lt;/a&gt;&apos;;</span><br><span class="line">		oTr.appendChild(oTd);</span><br><span class="line">		</span><br><span class="line">		oTd.getElementsByTagName(&apos;a&apos;)[0].onclick=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			oTab.tBodies[0].removeChild(this.parentNode.parentNode); //从tBodies里面删除</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		oTab.tBodies[0].appendChild(oTr);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2><span id="sou-suo">搜索</span><a href="#sou-suo" class="header-anchor">#</a></h2><h3><span id="ban-ben-1-ji-chu-ban-ben-zi-fu-chuan-bi-jiao">版本1：基础版本——字符串比较</span><a href="#ban-ben-1-ji-chu-ban-ben-zi-fu-chuan-bi-jiao" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	var oTxt=document.getElementById(&apos;name&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		for(var i=0;i&lt;oTab.tBodies[0].rows.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(oTab.tBodies[0].rows[i].cells[1].innerHTML==oTxt.value)</span><br><span class="line">			&#123;</span><br><span class="line">				oTab.tBodies[0].rows[i].style.background=&apos;yellow&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				oTab.tBodies[0].rows[i].style.background=&apos;&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="ban-ben-2-hu-lue-da-xiao-xie-da-xiao-xie-zhuan-huan">版本2：忽略大小写——大小写转换</span><a href="#ban-ben-2-hu-lue-da-xiao-xie-da-xiao-xie-zhuan-huan" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	var oTxt=document.getElementById(&apos;name&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		for(var i=0;i&lt;oTab.tBodies[0].rows.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			var sTab=oTab.tBodies[0].rows[i].cells[1].innerHTML;</span><br><span class="line">			var sTxt=oTxt.value;</span><br><span class="line">			if(sTab.toLowerCase()==sTxt.toLowerCase())</span><br><span class="line">			&#123;</span><br><span class="line">				oTab.tBodies[0].rows[i].style.background=&apos;yellow&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				oTab.tBodies[0].rows[i].style.background=&apos;&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="ban-ben-3-mo-hu-sou-suo-search-de-shi-yong">版本3：模糊搜索——search的使用</span><a href="#ban-ben-3-mo-hu-sou-suo-search-de-shi-yong" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;abc&apos;;</span><br><span class="line">str.search((&apos;a&apos;));  //找到并返回，返回数组里的位置，没有找到返回-1</span><br><span class="line"></span><br><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	var oTxt=document.getElementById(&apos;name&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		for(var i=0;i&lt;oTab.tBodies[0].rows.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			var sTab=oTab.tBodies[0].rows[i].cells[1].innerHTML.toLowerCase();</span><br><span class="line">			var sTxt=oTxt.value.toLowerCase();</span><br><span class="line">			if(sTab.search(sTxt)!=-1)   //</span><br><span class="line">			&#123;</span><br><span class="line">				oTab.tBodies[0].rows[i].style.background=&apos;yellow&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				oTab.tBodies[0].rows[i].style.background=&apos;&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="ban-ben-4-duo-guan-jian-ci-split">版本4：多关键词——split</span><a href="#ban-ben-4-duo-guan-jian-ci-split" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;abc 123 ert&apos;;</span><br><span class="line">var arr=str.aplit(&apos; &apos;);</span><br><span class="line"></span><br><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	var oTxt=document.getElementById(&apos;name&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		for(var i=0;i&lt;oTab.tBodies[0].rows.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			var sTab=oTab.tBodies[0].rows[i].cells[1].innerHTML.toLowerCase();</span><br><span class="line">			var sTxt=oTxt.value.toLowerCase();</span><br><span class="line">			</span><br><span class="line">			var arr=sTxt.split(&apos; &apos;);</span><br><span class="line">			</span><br><span class="line">			oTab.tBodies[0].rows[i].style.background=&apos;&apos;;</span><br><span class="line">			</span><br><span class="line">			for(var j=0;j&lt;arr.length;j++)</span><br><span class="line">			&#123;</span><br><span class="line">				if(sTab.search(arr[j])!=-1)</span><br><span class="line">				&#123;</span><br><span class="line">					oTab.tBodies[0].rows[i].style.background=&apos;yellow&apos;;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="gao-liang-xian-shi-shai-xuan">高亮显示、筛选</span><a href="#gao-liang-xian-shi-shai-xuan" class="header-anchor">#</a></h3><ul>
<li>高亮</li>
<li>筛选<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">function ()  //筛选</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	var oTxt=document.getElementById(&apos;name&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		for(var i=0;i&lt;oTab.tBodies[0].rows.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			var sTab=oTab.tBodies[0].rows[i].cells[1].innerHTML.toLowerCase();</span><br><span class="line">			var sTxt=oTxt.value.toLowerCase();</span><br><span class="line">			</span><br><span class="line">			var arr=sTxt.split(&apos; &apos;);</span><br><span class="line">			</span><br><span class="line">			oTab.tBodies[0].rows[i].style.display=&apos;none&apos;;    </span><br><span class="line">			</span><br><span class="line">			for(var j=0;j&lt;arr.length;j++)</span><br><span class="line">			&#123;</span><br><span class="line">				if(sTab.search(arr[j])!=-1)</span><br><span class="line">				&#123;</span><br><span class="line">					oTab.tBodies[0].rows[i].style.display=&apos;block&apos;;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="pai-xu">排序</span><a href="#pai-xu" class="header-anchor">#</a></h2><h3><span id="li-pai-xu">li排序</span><a href="#li-pai-xu" class="header-anchor">#</a></h3><ul>
<li><p>从一个div移动另一个div</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oUl1=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	var oUl2=document.getElementById(&apos;ul2&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var oLi=oUl1.children[0];</span><br><span class="line">		</span><br><span class="line">		//oUl1.removeChild(oLi);</span><br><span class="line">		oUl2.appendChild(oLi);	//1.先把元素从原有父级上删掉	2.添加到新的父级</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">	&lt;li&gt;1&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;2&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;3&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;4&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;移动&quot; /&gt;</span><br><span class="line">&lt;ul id=&quot;ul2&quot;&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>第一个li移动到最后一个</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oUl1=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var oLi=oUl1.children[0];</span><br><span class="line">		</span><br><span class="line">		oUl1.appendChild(oLi);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;移动&quot; /&gt;</span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">	&lt;li&gt;1&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;2&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;3&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;4&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>利用appendChild排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oUl1=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var aLi=oUl1.getElementsByTagName(&apos;li&apos;);</span><br><span class="line">		</span><br><span class="line">		//aLi.sort();</span><br><span class="line">		var arr=[];</span><br><span class="line">		</span><br><span class="line">		for(var i=0;i&lt;aLi.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			arr[i]=aLi[i];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		arr.sort(function (li1, li2)&#123;</span><br><span class="line">			var n1=parseInt(li1.innerHTML);</span><br><span class="line">			var n2=parseInt(li2.innerHTML);</span><br><span class="line">			</span><br><span class="line">			return n1-n2;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		//alert(arr[0].innerHTML);</span><br><span class="line">		for(var i=0;i&lt;arr.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			alert(&apos;该把&apos;+arr[i].innerHTML+&apos;插入到最后&apos;);</span><br><span class="line">			oUl1.appendChild(arr[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="biao-ge-pai-xu">表格排序</span><a href="#biao-ge-pai-xu" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTab=document.getElementById(&apos;tab1&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var arr=[];</span><br><span class="line">		</span><br><span class="line">		for(var i=0;i&lt;oTab.tBodies[0].rows.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			arr[i]=oTab.tBodies[0].rows[i];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		arr.sort(function (tr1, tr2)&#123;</span><br><span class="line">			var n1=parseInt(tr1.cells[0].innerHTML);</span><br><span class="line">			var n2=parseInt(tr2.cells[0].innerHTML);</span><br><span class="line">			</span><br><span class="line">			return n1-n2;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		for(var i=0;i&lt;arr.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			oTab.tBodies[0].appendChild(arr[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1><span id="js-yun-dong-ji-chu">JS运动基础</span><a href="#js-yun-dong-ji-chu" class="header-anchor">#</a></h1><h2><span id="yun-dong-ji-chu">运动基础</span><a href="#yun-dong-ji-chu" class="header-anchor">#</a></h2><ul>
<li>让Div运动起来</li>
<li>速度——物体运动的快慢</li>
<li>运动中的Bug<br>   不会停止<br>   速度取某些值会无法停止<br>   到达位置后再点击还会运动<br>   重复点击速度加快<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var timer=null;  </span><br><span class="line"></span><br><span class="line">function startMove()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	clearInterval(timer);   //在开始运动时，关闭已有定时器</span><br><span class="line">	timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=1;   // 定义一个speed变量 控制速度</span><br><span class="line">		</span><br><span class="line">		if(oDiv.offsetLeft&gt;=300)  //把运动和停止隔开(if/else)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(timer);  //满足条件 关闭定时器 停止运动</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			oDiv.style.left=oDiv.offsetLeft+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="yun-dong-kuang-jia-ji-ying-yong">运动框架及应用</span><a href="#yun-dong-kuang-jia-ji-ying-yong" class="header-anchor">#</a></h2><h3><span id="yun-dong-kuang-jia-shi-li">运动框架实例</span><a href="#yun-dong-kuang-jia-shi-li" class="header-anchor">#</a></h3><h4><span id="fen-xiang-dao-ce-bian-lan">分享到 侧边栏</span><a href="#fen-xiang-dao-ce-bian-lan" class="header-anchor">#</a></h4><ul>
<li>通过目标点，计算速度值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:150px; height:200px; background:green; position:absolute; left:-150px;&#125;</span><br><span class="line">#div1 span &#123;position:absolute; width:20px; height:60px; line-height:20px; background:blue; right:-20px; top:70px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(0);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(-150);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var timer=null;</span><br><span class="line"></span><br><span class="line">function startMove(iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	clearInterval(timer);</span><br><span class="line">	timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=0;</span><br><span class="line">		</span><br><span class="line">		if(oDiv.offsetLeft&gt;iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			speed=-10;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			speed=10;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		if(oDiv.offsetLeft==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			oDiv.style.left=oDiv.offsetLeft+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;</span><br><span class="line">	&lt;span&gt;分享到&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="dan-ru-dan-chu-de-tu-pian">淡入淡出的图片</span><a href="#dan-ru-dan-chu-de-tu-pian" class="header-anchor">#</a></h4><ul>
<li>用变量存储透明度<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:200px; height:200px; background:red; filter:alpha(opacity:30); opacity:0.3;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.onmouseover=function ()     //鼠标移入</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(100);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv.onmouseout=function ()		//鼠标移出</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(30);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var alpha=30;</span><br><span class="line">var timer=null;</span><br><span class="line"></span><br><span class="line">function startMove(iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	clearInterval(timer);  //关闭定时器</span><br><span class="line">	timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=0;</span><br><span class="line">		</span><br><span class="line">		if(alpha&lt;iTarget)  //当前透明度小于目标点</span><br><span class="line">		&#123;</span><br><span class="line">			speed=10;     //速度等于10</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;					//当前透明度大于目标点</span><br><span class="line">			speed=-10;      //速度等于-10</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		//判断是否到达目标点</span><br><span class="line">		if(alpha==iTarget)  //当前透明度等于目标点</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(timer); //关闭定时器</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			alpha+=speed;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.filter=&apos;alpha(opacity:&apos;+alpha+&apos;)&apos;;</span><br><span class="line">			oDiv.style.opacity=alpha/100;  //opacity满的时候是1；</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="alpha">alpha</span><a href="#alpha" class="header-anchor">#</a></h4><p>中文：alpha<br>解释</p>
<p>表示像素不透明性的值。像素越不透明，则隐藏越多呈现图像的背景。零 alpha 表示完全透明的像素，而最大值的 alpha 表示完全不透明的像素。</p>
<h2><span id="huan-chong-yun-dong">缓冲运动</span><a href="#huan-chong-yun-dong" class="header-anchor">#</a></h2><p>逐渐变慢，最后停止<br>距离越远速度越大</p>
<ul>
<li>速度由距离决定</li>
<li>速度=(目标值-当前值)/缩放系数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:100px; height:100px; background:red; position:absolute; left:600px; top:50px;&#125;</span><br><span class="line">#div2 &#123;width:1px; height:300px; position:absolute; left:300px; top:0; background:black;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">function startMove()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	setInterval(function ()&#123;</span><br><span class="line">		var speed=(300-oDiv.offsetLeft)/10;</span><br><span class="line">		//speed=Math.floor(speed);</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);   //速度为正，向上取整  速度为负，向下取整</span><br><span class="line">		</span><br><span class="line">		oDiv.style.left=oDiv.offsetLeft+speed+&apos;px&apos;;</span><br><span class="line">		</span><br><span class="line">		document.title=oDiv.offsetLeft+&apos;,&apos;+speed;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;开始运动&quot; onclick=&quot;startMove()&quot; /&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="shi-li-you-ce-xuan-fu-kuang">实例：右侧悬浮框</span><a href="#shi-li-you-ce-xuan-fu-kuang" class="header-anchor">#</a></h3><p>Bug：速度取整<br>跟随页面滚动的缓冲侧边栏</p>
<ul>
<li>潜在问题：目标值不是整数时<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:100px; height:150px; background:red; position:absolute; right:0; bottom:0;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">window.onscroll=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;</span><br><span class="line">	</span><br><span class="line">	//oDiv.style.top=document.documentElement.clientHeight-oDiv.offsetHeight+scrollTop+&apos;px&apos;;</span><br><span class="line">	startMove(document.documentElement.clientHeight-oDiv.offsetHeight+scrollTop);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var timer=null;</span><br><span class="line"></span><br><span class="line">function startMove(iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	clearInterval(timer);</span><br><span class="line">	timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=(iTarget-oDiv.offsetTop)/4;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(oDiv.offsetTop==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			oDiv.style.top=oDiv.offsetTop+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;body style=&quot;height:2000px;&quot;&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="fu">附</span><a href="#fu" class="header-anchor">#</a></h4><p>网页可见区域宽：document.body.clientWidth<br>网页可见区域高：document.body.clientHeight<br>网页可见区域宽：document.body.offsetWidth (包括边线的宽)<br>网页可见区域高：document.body.offsetHeight (包括边线的宽)<br>网页正文全文宽：document.body.scrollWidth<br>网页正文全文高：document.body.scrollHeight<br>网页被卷去的高：document.body.scrollTop<br>网页被卷去的左：document.body.scrollLeft<br>网页正文部分上：window.screenTop<br>网页正文部分左：window.screenLeft<br>屏幕分辨率的高：window.screen.height<br>屏幕分辨率的宽：window.screen.width<br>屏幕可用工作区高度：window.screen.availHeight<br>屏幕可用工作区宽度：window.screen.availWidth</p>
<p>//alert(Math.ceil(-9.8));            //向上取整<br>alert(Math.floor(4.9999));                //向下取整<br>alert(Math.abs(-6));                //取绝对值</p>
<h3><span id="dui-lian-xuan-fu-kuang">对联悬浮框</span><a href="#dui-lian-xuan-fu-kuang" class="header-anchor">#</a></h3><p>Bug：速度取整<br>跟随页面滚动的缓冲侧边栏</p>
<ul>
<li>潜在问题：目标值不是整数时<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:100px; height:150px; background:red; position:absolute; right:0; bottom:0;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">window.onscroll=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;</span><br><span class="line">	//可视区的高-div的高，再除以二</span><br><span class="line">	//oDiv.style.top=(document.documentElement.clientHeight-oDiv.offsetHeight)/2+scrollTop+&apos;px&apos;;</span><br><span class="line">	startMove(parseInt((document.documentElement.clientHeight-oDiv.offsetHeight)/2+scrollTop));</span><br><span class="line">	// 目标取整 消除跳动</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var timer=null;</span><br><span class="line"></span><br><span class="line">function startMove(iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	clearInterval(timer);</span><br><span class="line">	timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=(iTarget-oDiv.offsetTop)/4;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(oDiv.offsetTop==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			document.title=iTarget;</span><br><span class="line">			document.getElementById(&apos;txt1&apos;).value=oDiv.offsetTop;</span><br><span class="line">			oDiv.style.top=oDiv.offsetTop+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;body style=&quot;height:2000px;&quot;&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; id=&quot;txt1&quot; style=&quot;position:fixed; right:0; top:0;&quot; /&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="yun-su-yun-dong-de-ting-zhi-tiao-jian">匀速运动的停止条件</span><a href="#yun-su-yun-dong-de-ting-zhi-tiao-jian" class="header-anchor">#</a></h3><p>运动终止条件</p>
<ul>
<li>匀速运动：距离足够近</li>
<li>缓冲运动：两点重合</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:100px; height:100px; background:red; position:absolute; left:600px; top:50px;&#125;</span><br><span class="line">#div2 &#123;width:1px; height:300px; position:absolute; left:300px; top:0; background:black;&#125;</span><br><span class="line">#div3 &#123;width:1px; height:300px; position:absolute; left:100px; top:0; background:black;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">var timer=null;</span><br><span class="line"></span><br><span class="line">function startMove(iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	clearInterval(timer);</span><br><span class="line">	timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=0;</span><br><span class="line">		</span><br><span class="line">		if(oDiv.offsetLeft&lt;iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			speed=7;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			speed=-7;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		if(Math.abs(iTarget-oDiv.offsetLeft)&lt;=7)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(timer);</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=iTarget+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			oDiv.style.left=oDiv.offsetLeft+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;到100&quot; onclick=&quot;startMove(100)&quot; /&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;到300&quot; onclick=&quot;startMove(300)&quot; /&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div3&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h1><span id="js-yun-dong-ying-yong">JS运动应用</span><a href="#js-yun-dong-ying-yong" class="header-anchor">#</a></h1><h2><span id="duo-wu-ti-yun-dong-kuang-jia">多物体运动框架</span><a href="#duo-wu-ti-yun-dong-kuang-jia" class="header-anchor">#</a></h2><h3><span id="duo-ge-wu-ti-tong-shi-yun-dong">多个物体同时运动</span><a href="#duo-ge-wu-ti-tong-shi-yun-dong" class="header-anchor">#</a></h3><h4><span id="li-zi-duo-ge-div-shu-biao-yi-ru-bian-kuan">例子：多个Div，鼠标移入变宽</span><a href="#li-zi-duo-ge-div-shu-biao-yi-ru-bian-kuan" class="header-anchor">#</a></h4><ul>
<li>单定时器，存在问题</li>
<li>每个Div一个定时器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">div &#123;width:100px; height:50px; background:red; margin:10px; border:10px solid black;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var aDiv=document.getElementsByTagName(&apos;div&apos;);</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;aDiv.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aDiv[i].timer=null;   //每个Div都有一个定时器</span><br><span class="line">		</span><br><span class="line">		aDiv[i].onmouseover=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			startMove(this, 400);</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		aDiv[i].onmouseout=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			startMove(this, 100);</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//var timer=null;</span><br><span class="line"></span><br><span class="line">function startMove(obj, iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	clearInterval(obj.timer);</span><br><span class="line">	obj.timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=(iTarget-obj.offsetWidth)/6;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(obj.offsetWidth==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(obj.timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			obj.style.width=obj.offsetWidth+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="duo-wu-ti-yun-dong-kuang-jia">多物体运动框架</span><a href="#duo-wu-ti-yun-dong-kuang-jia" class="header-anchor">#</a></h3><p>定时器作为物体的属性<br>参数的传递：物体、目标值</p>
<h4><span id="li-zi-duo-ge-div-dan-ru-dan-chu">例子：多个Div淡入淡出</span><a href="#li-zi-duo-ge-div-dan-ru-dan-chu" class="header-anchor">#</a></h4><ul>
<li>所有东西都不能公用</li>
<li>属性与运动对象绑定：速度、其他属性值（如透明度等）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">div &#123;width:200px; height:200px; margin:20px; float:left; background:red; filter:alpha(opacity:30); opacity:0.3;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var aDiv=document.getElementsByTagName(&apos;div&apos;);</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;aDiv.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aDiv[i].alpha=30;</span><br><span class="line">		</span><br><span class="line">		aDiv[i].onmouseover=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			startMove(this, 100);</span><br><span class="line">		&#125;;</span><br><span class="line">		aDiv[i].onmouseout=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			startMove(this, 30);</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//var alpha=30;</span><br><span class="line"></span><br><span class="line">function startMove(obj, iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	clearInterval(obj.timer);</span><br><span class="line">	obj.timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=(iTarget-obj.alpha)/6;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(obj.alpha==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(obj.timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			obj.alpha+=speed;</span><br><span class="line">			</span><br><span class="line">			obj.style.filter=&apos;alpha(opacity:&apos;+obj.alpha+&apos;)&apos;;</span><br><span class="line">			obj.style.opacity=obj.alpha/100;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h4><span id="li-zi-bian-kuan-bian-gao">例子：变宽变高</span><a href="#li-zi-bian-kuan-bian-gao" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">div &#123;width:200px; height:200px; margin:20px; float:left; background:yellow;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv1=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv1.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, 400);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv1.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, 200);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	var oDiv2=document.getElementById(&apos;div2&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv2.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove2(this, 400);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv2.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove2(this, 200);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function startMove(obj, iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	clearInterval(obj.timer);</span><br><span class="line">	obj.timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=(iTarget-obj.offsetHeight)/6;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(obj.offsetHeight==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(obj.timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			obj.style.height=obj.offsetHeight+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function startMove2(obj, iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	clearInterval(obj.timer);</span><br><span class="line">	obj.timer=setInterval(function ()&#123;</span><br><span class="line">		var speed=(iTarget-obj.offsetWidth)/6;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(obj.offsetWidth==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(obj.timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			obj.style.width=obj.offsetWidth+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;变高&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;变宽&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="ren-yi-zhi-yun-dong-kuang-jia">任意值运动框架</span><a href="#ren-yi-zhi-yun-dong-kuang-jia" class="header-anchor">#</a></h2><h3><span id="offset-shu-xing-de-bug">offset属性的Bug</span><a href="#offset-shu-xing-de-bug" class="header-anchor">#</a></h3><p>有边框的Div变宽<br>用currentStyle代替offset</p>
<ul>
<li>offsetWidth(盒模型尺寸)=width+2<em>dorder+2</em>padding</li>
<li>styl只能去行间样式</li>
<li>getStyle<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getStyle(obj, name)  //获取不在行间的样式  </span><br><span class="line">&#123;</span><br><span class="line">	if(obj.currentStyle)</span><br><span class="line">	&#123;</span><br><span class="line">		return obj.currentStyle[name];</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return getComputedStyle(obj, false)[name];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:200px; height:200px; background:red; border:1px solid black;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">setInterval(function ()&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.width=oDiv.offsetWidth-1+&apos;px&apos;;</span><br><span class="line">&#125;, 30);  // =202-1=201  =201+1+1+1</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>解决方案 用getStyle替换offset<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:200px; height:200px; background:red; border:1px solid black;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">function getStyle(obj, name)  //获取不在行间的样式  </span><br><span class="line">&#123;</span><br><span class="line">	if(obj.currentStyle)</span><br><span class="line">	&#123;</span><br><span class="line">		return obj.currentStyle[name];</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return getComputedStyle(obj, false)[name];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setInterval(function ()&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.width=parseInt(getStyle(oDiv, &apos;width&apos;))-1+&apos;px&apos;;</span><br><span class="line">&#125;, 30);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="qu-diao-offset">去掉offset</span><a href="#qu-diao-offset" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">div &#123;width:200px; height:200px; margin:20px; float:left; background:yellow; border:10px solid black; font-size:14px;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv1=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv1.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;height&apos;, 400);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv1.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;height&apos;, 200);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	var oDiv2=document.getElementById(&apos;div2&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv2.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;width&apos;, 400);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv2.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;width&apos;, 200);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	var oDiv3=document.getElementById(&apos;div3&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv3.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;fontSize&apos;, 50);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv3.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;fontSize&apos;, 14);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	var oDiv4=document.getElementById(&apos;div4&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv4.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;borderWidth&apos;, 100);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv4.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;borderWidth&apos;, 10);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function getStyle(obj, name)</span><br><span class="line">&#123;</span><br><span class="line">	if(obj.currentStyle)</span><br><span class="line">	&#123;</span><br><span class="line">		return obj.currentStyle[name];</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return getComputedStyle(obj, false)[name];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function startMove(obj, attr, iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	clearInterval(obj.timer);</span><br><span class="line">	obj.timer=setInterval(function ()&#123;</span><br><span class="line">		var cur=parseInt(getStyle(obj, attr));</span><br><span class="line">		</span><br><span class="line">		var speed=(iTarget-cur)/6;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(cur==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(obj.timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			obj.style[attr]=cur+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;变高&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;变宽&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div3&quot;&gt;字符变大&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div4&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="yuan-you-yun-dong-kuang-jia-de-wen-ti">原有运动框架的问题</span><a href="#yuan-you-yun-dong-kuang-jia-de-wen-ti" class="header-anchor">#</a></h3><ul>
<li>只能让某个值运动起来</li>
<li>如果想让其他值运动起来，要修改程序</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">div &#123;width:200px; height:200px; margin:20px; float:left; background:yellow; border:10px solid black; filter:alpha(opacity:30); opacity:0.3;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv1=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv1.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;opacity&apos;, 100);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv1.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;opacity&apos;, 30);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function getStyle(obj, name)</span><br><span class="line">&#123;</span><br><span class="line">	if(obj.currentStyle)</span><br><span class="line">	&#123;</span><br><span class="line">		return obj.currentStyle[name];</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return getComputedStyle(obj, false)[name];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function startMove(obj, attr, iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	clearInterval(obj.timer);</span><br><span class="line">	obj.timer=setInterval(function ()&#123;</span><br><span class="line">		var cur=parseInt(getStyle(obj, attr));</span><br><span class="line">		</span><br><span class="line">		var speed=(iTarget-cur)/6;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(cur==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(obj.timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			obj.style[attr]=cur+speed+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="kuo-zhan-de-yun-dong-kuang-jia">扩展的运动框架</span><a href="#kuo-zhan-de-yun-dong-kuang-jia" class="header-anchor">#</a></h3><ul>
<li>运动属性作为参数</li>
<li>封装opacity<br>小数的问题 Math.round() 四舍五入</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">move.js</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">div &#123;width:200px; height:200px; margin:20px; float:left; background:yellow; border:10px solid black; filter:alpha(opacity:30); opacity:0.3;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv1=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv1.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;opacity&apos;, 100);</span><br><span class="line">	&#125;;</span><br><span class="line">	oDiv1.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(this, &apos;opacity&apos;, 30);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function getStyle(obj, name)</span><br><span class="line">&#123;</span><br><span class="line">	if(obj.currentStyle)</span><br><span class="line">	&#123;</span><br><span class="line">		return obj.currentStyle[name];</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return getComputedStyle(obj, false)[name];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function startMove(obj, attr, iTarget)</span><br><span class="line">&#123;</span><br><span class="line">	clearInterval(obj.timer);</span><br><span class="line">	obj.timer=setInterval(function ()&#123;</span><br><span class="line">		var cur=0;</span><br><span class="line">		</span><br><span class="line">		if(attr==&apos;opacity&apos;)</span><br><span class="line">		&#123;</span><br><span class="line">			cur=Math.round(parseFloat(getStyle(obj, attr))*100);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			cur=parseInt(getStyle(obj, attr));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		var speed=(iTarget-cur)/6;</span><br><span class="line">		speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">		</span><br><span class="line">		if(cur==iTarget)</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(obj.timer);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			if(attr==&apos;opacity&apos;)</span><br><span class="line">			&#123;</span><br><span class="line">				obj.style.filter=&apos;alpha(opacity:&apos;+(cur+speed)+&apos;)&apos;;  //IE</span><br><span class="line">				obj.style.opacity=(cur+speed)/100;</span><br><span class="line">				// 火狐</span><br><span class="line">				document.getElementById(&apos;txt1&apos;).value=obj.style.opacity;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				obj.style[attr]=cur+speed+&apos;px&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; id=&quot;txt1&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h1><span id="js-yun-dong-zhong-ji">JS运动中级</span><a href="#js-yun-dong-zhong-ji" class="header-anchor">#</a></h1><h2><span id="lian-shi-yun-dong-kuang-jia">链式运动框架</span><a href="#lian-shi-yun-dong-kuang-jia" class="header-anchor">#</a></h2><p>回调函数</p>
<ul>
<li>运动停止时，执行函数</li>
<li>运动停止时，开始下一次运动<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:100px; height:100px; background:red;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script src=&quot;move.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123; </span><br><span class="line">		startMove(oDiv, &apos;width&apos;, 300);  //先变宽</span><br><span class="line">		startMove(oDiv, &apos;height&apos;, 300);	//再变长</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;iinput id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;运动&quot; /&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="wan-mei-yun-dong-kuang-jia">完美运动框架</span><a href="#wan-mei-yun-dong-kuang-jia" class="header-anchor">#</a></h2><h3><span id="duo-ge-zhi-tong-shi-bian-hua">多个值同时变化</span><a href="#duo-ge-zhi-tong-shi-bian-hua" class="header-anchor">#</a></h3><p>setStyle同时设置多个属性</p>
<p>-参数传递</p>
<ul>
<li>Json的使用，实现多个属性运动</li>
<li>for in遍历属性<br>-运用到运动框架</li>
<li>检测运动停止</li>
<li>标志变量</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">move2.js</span><br><span class="line"></span><br><span class="line">function getStyle(obj, name)</span><br><span class="line">&#123;</span><br><span class="line">	if(obj.currentStyle)</span><br><span class="line">	&#123;</span><br><span class="line">		return obj.currentStyle[name];</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return getComputedStyle(obj, false)[name];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//startMove(oDiv, &#123;width: 400, height: 400&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function startMove(obj, json, fnEnd)</span><br><span class="line">&#123;</span><br><span class="line">	clearInterval(obj.timer);</span><br><span class="line">	obj.timer=setInterval(function ()&#123;</span><br><span class="line">		var bStop=true;		//假设：所有值都已经到了</span><br><span class="line">		</span><br><span class="line">		for(var attr in json)</span><br><span class="line">		&#123;</span><br><span class="line">			var cur=0;</span><br><span class="line">			</span><br><span class="line">			if(attr==&apos;opacity&apos;)</span><br><span class="line">			&#123;</span><br><span class="line">				cur=Math.round(parseFloat(getStyle(obj, attr))*100);</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				cur=parseInt(getStyle(obj, attr));</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			var speed=(json[attr]-cur)/6;</span><br><span class="line">			speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</span><br><span class="line">			</span><br><span class="line">			if(cur!=json[attr])</span><br><span class="line">				bStop=false;</span><br><span class="line">			</span><br><span class="line">			if(attr==&apos;opacity&apos;)</span><br><span class="line">			&#123;</span><br><span class="line">				obj.style.filter=&apos;alpha(opacity:&apos;+(cur+speed)+&apos;)&apos;;</span><br><span class="line">				obj.style.opacity=(cur+speed)/100;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				obj.style[attr]=cur+speed+&apos;px&apos;;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		if(bStop)    //运动完成，关闭定时器</span><br><span class="line">		&#123;</span><br><span class="line">			clearInterval(obj.timer);</span><br><span class="line">						</span><br><span class="line">			if(fnEnd)fnEnd(); //在运动结束被调用</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;, 30);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="diao-yong-kuang-jia">调用框架</span><a href="#diao-yong-kuang-jia" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">#div1 &#123;width:100px; height:100px; background:red; filter:alpha(opacity:30); opacity:0.3;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;move2.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		startMove(oDiv, &#123;width: 101, height: 300, opacity: 100&#125;, function ()&#123;</span><br><span class="line">			alert(&apos;a&apos;);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;iinput id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;运动&quot; /&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="yun-dong-kuang-jia-zong-jie">运动框架总结</span><a href="#yun-dong-kuang-jia-zong-jie" class="header-anchor">#</a></h2><p>运动框架演变过程</p>
<ul>
<li>startMove(iTarget)            运动框架</li>
<li>startMove(obj, iTarget)            多物体</li>
<li>startMove(obj, attr, iTarget)        任意值</li>
<li>startMove(obj, attr, iTarget, fn)        链式运动</li>
<li>startMove(obj, json)            多值运动</li>
<li>startMove(obj, json, fn)        完美运动框架</li>
</ul>
<h2><span id="yun-dong-kuang-jia-ying-yong">运动框架应用</span><a href="#yun-dong-kuang-jia-ying-yong" class="header-anchor">#</a></h2><h3><span id="li-zi-huan-deng-pian">例子：幻灯片</span><a href="#li-zi-huan-deng-pian" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;play&apos;);</span><br><span class="line">	var aBtn=oDiv.getElementsByTagName(&apos;ol&apos;)[0].getElementsByTagName(&apos;li&apos;);</span><br><span class="line">	var oUl=oDiv.getElementsByTagName(&apos;ul&apos;)[0];</span><br><span class="line">	</span><br><span class="line">	var now=0;   //设置第一种的top值</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;aBtn.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		aBtn[i].index=i;    //定义一个index来记录是第几张图</span><br><span class="line">		aBtn[i].onclick=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			now=this.index;         //now保存当前图片Id</span><br><span class="line">				</span><br><span class="line">			tab();					//调用tab函数</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	function tab()      //改变top值，实现幻灯片效果</span><br><span class="line">	&#123;</span><br><span class="line">		for(var i=0;i&lt;aBtn.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			aBtn[i].className=&apos;&apos;;   </span><br><span class="line">		&#125;</span><br><span class="line">		aBtn[now].className=&apos;active&apos;;  //使当前的button置亮</span><br><span class="line">		startMove(oUl, &#123;top: -150*now&#125;);  //调用move.js框架</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	function next()			//调用next函数进行自动切换</span><br><span class="line">	&#123;</span><br><span class="line">		now++; 			</span><br><span class="line">		if(now==aBtn.length)</span><br><span class="line">		&#123;</span><br><span class="line">			now=0;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		tab();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	var timer=setInterval(next, 2000);  //每两秒调用next函数实现自动切换</span><br><span class="line">	</span><br><span class="line">	oDiv.onmouseover=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		clearInterval(timer);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmouseout=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		timer=setInterval(next, 2000);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;play&quot; id=&quot;play&quot;&gt;</span><br><span class="line">    &lt;ol&gt;</span><br><span class="line">    	&lt;li class=&quot;active&quot;&gt;1&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;2&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;3&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;4&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;5&lt;/li&gt;</span><br><span class="line">    &lt;/ol&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/1.jpg&quot; alt=&quot;广告一&quot; /&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/2.jpg&quot; alt=&quot;广告二&quot; /&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/3.jpg&quot; alt=&quot;广告三&quot; /&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/4.jpg&quot; alt=&quot;广告四&quot; /&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/5.jpg&quot; alt=&quot;广告五&quot; /&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="li-zi-wei-bo-xin-xi-fa-bu-xiao-guo">例子：微博信息发布效果</span><a href="#li-zi-wei-bo-xin-xi-fa-bu-xiao-guo" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">* &#123;margin:0; padding:0;&#125;</span><br><span class="line">#ul1 &#123;width:400px; height:400px; border:1px solid black; margin:10px auto; overflow:hidden;&#125;</span><br><span class="line">#ul1 li &#123;border-bottom:1px #999 dashed; padding:4px; list-style:none; overflow:hidden; filter:alpha(opacity:0); opacity:0;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;move2.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	var oTxt=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var oLi=document.createElement(&apos;li&apos;);  //创建元素</span><br><span class="line">		</span><br><span class="line">		oLi.innerHTML=oTxt.value;   //显示文本</span><br><span class="line">		oTxt.value=&apos;&apos;;</span><br><span class="line">		</span><br><span class="line">		if(oUl.children.length&gt;0)  //倒序插入</span><br><span class="line">		&#123;</span><br><span class="line">			oUl.insertBefore(oLi, oUl.children[0]);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			oUl.appendChild(oLi);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		//运动</span><br><span class="line">		var iHeight=oLi.offsetHeight;  //取高度</span><br><span class="line">		</span><br><span class="line">		oLi.style.height=&apos;0&apos;;</span><br><span class="line">		</span><br><span class="line">		startMove(oLi, &#123;height: iHeight&#125;, function ()&#123;</span><br><span class="line">			startMove(oLi, &#123;opacity: 100&#125;);</span><br><span class="line">		&#125;);</span><br><span class="line">		//alert(iHeight);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;textarea id=&quot;txt1&quot; rows=&quot;4&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;发布&quot; /&gt;</span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
<h1><span id="js-shi-jian-ji-chu">JS事件基础</span><a href="#js-shi-jian-ji-chu" class="header-anchor">#</a></h1><h2><span id="event-dui-xiang-he-shi-jian-mou-pao">event对象和事件冒泡</span><a href="#event-dui-xiang-he-shi-jian-mou-pao" class="header-anchor">#</a></h2><h3><span id="event-dui-xiang">event对象</span><a href="#event-dui-xiang" class="header-anchor">#</a></h3><p>  Event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。事件通常与函数结合使用，函数不会在事件发生前被执行！</p>
<h4><span id="dian-ji">点击</span><a href="#dian-ji" class="header-anchor">#</a></h4><ul>
<li>直接用document.onclick</li>
<li>document.body 可能撑不开</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	document.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;a&apos;);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4><span id="document">document</span><a href="#document" class="header-anchor">#</a></h4><ul>
<li>&lt;!DOCTYPE HTML&gt;也是一个节点</li>
<li>&lt;!DOCTYPE HTML&gt;和HTML都是document的子节点</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(document.childNodes[1].tagName);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="huo-qu-event-dui-xiang-jian-rong-xing-xie-fa">获取event对象(兼容性写法)</span><a href="#huo-qu-event-dui-xiang-jian-rong-xing-xie-fa" class="header-anchor">#</a></h3><ul>
<li>var oEvent=ev||event;</li>
</ul>
<h4><span id="dian-ji-zuo-biao">点击坐标</span><a href="#dian-ji-zuo-biao" class="header-anchor">#</a></h4><ul>
<li>clientX–获取x坐标值</li>
<li>clientY–获取y坐标值</li>
<li>event 只能在IE下用</li>
<li>火狐下用ev</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	document.onclick=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		//IE</span><br><span class="line">		//alert(event.clientX+&apos;,&apos;+event.clientY);</span><br><span class="line">		</span><br><span class="line">		//FF</span><br><span class="line">		//alert(ev.clientX+&apos;,&apos;+ev.clientY);</span><br><span class="line">		</span><br><span class="line">		var oEvent=ev||event;  //处理兼容性</span><br><span class="line">		</span><br><span class="line">		alert(oEvent.clientX+&apos;,&apos;+oEvent.clientY);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="shi-jian-liu">事件流</span><a href="#shi-jian-liu" class="header-anchor">#</a></h3><h4><span id="shi-jian-mou-pao">事件冒泡</span><a href="#shi-jian-mou-pao" class="header-anchor">#</a></h4><ul>
<li>事件会随着层级传给父级</li>
</ul>
<h4><span id="qu-xiao-mou-pao">取消冒泡</span><a href="#qu-xiao-mou-pao" class="header-anchor">#</a></h4><ul>
<li>oEvent.cancelBubble=true</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:400px; height:300px; background:#CCC; display:none;&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		oDiv.style.display=&apos;block&apos;;</span><br><span class="line">		//alert(&apos;按钮被点击了&apos;);</span><br><span class="line">		</span><br><span class="line">		oEvent.cancelBubble=true;</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	document.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		oDiv.style.display=&apos;none&apos;;</span><br><span class="line">		//alert(&apos;document被点击了&apos;);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;input1 id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;显示&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="shu-biao-shi-jian">鼠标事件</span><a href="#shu-biao-shi-jian" class="header-anchor">#</a></h2><h3><span id="shu-biao-wei-zhi">鼠标位置</span><a href="#shu-biao-wei-zhi" class="header-anchor">#</a></h3><ul>
<li>用到client一定要用的scroll</li>
</ul>
<h4><span id="ke-shi-qu-wei-zhi-clientx-clienty">可视区位置：clientX、clientY</span><a href="#ke-shi-qu-wei-zhi-clientx-clienty" class="header-anchor">#</a></h4><ul>
<li><p>例子1：跟随鼠标的Div</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:200px; height:200px; background:red; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line">document.onmousemove=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.left=oEvent.clientX+&apos;px&apos;;</span><br><span class="line">	oDiv.style.top=oEvent.clientY+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>消除滚动条的影响</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:200px; height:200px; background:red; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line">document.onmousemove=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;</span><br><span class="line">	</span><br><span class="line">	oDiv.style.left=oEvent.clientX+&apos;px&apos;;</span><br><span class="line">	oDiv.style.top=oEvent.clientY+scrollTop+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;body style=&quot;height:2000px;&quot;&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="huo-qu-shu-biao-zai-ye-mian-de-jue-dui-wei-zhi">获取鼠标在页面的绝对位置</span><a href="#huo-qu-shu-biao-zai-ye-mian-de-jue-dui-wei-zhi" class="header-anchor">#</a></h3><h4><span id="feng-zhuang-han-shu">封装函数</span><a href="#feng-zhuang-han-shu" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:200px; height:200px; background:red; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line">//封装函数</span><br><span class="line">function getPos(ev)</span><br><span class="line">&#123;</span><br><span class="line">	var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;</span><br><span class="line">	var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;</span><br><span class="line">	</span><br><span class="line">	return &#123;x: ev.clientX+scrollLeft, y: ev.clientY+scrollTop&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">document.onmousemove=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	var pos=getPos(oEvent);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.left=pos.x+&apos;px&apos;;</span><br><span class="line">	oDiv.style.top=pos.y+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;body style=&quot;height:2000px;&quot;&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h4><span id="li-zi-2-yi-chuan-gen-sui-shu-biao-de-div">例子2：一串跟随鼠标的Div</span><a href="#li-zi-2-yi-chuan-gen-sui-shu-biao-de-div" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">div &#123;width:10px; height:10px; background:red; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function getPos(ev)</span><br><span class="line">&#123;</span><br><span class="line">	var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;</span><br><span class="line">	var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;</span><br><span class="line">	</span><br><span class="line">	return &#123;x: ev.clientX+scrollLeft, y: ev.clientY+scrollTop&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.onmousemove=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var aDiv=document.getElementsByTagName(&apos;div&apos;);</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	</span><br><span class="line">	var pos=getPos(oEvent);</span><br><span class="line">	</span><br><span class="line">	for(var i=aDiv.length-1;i&gt;0;i--)</span><br><span class="line">	&#123;</span><br><span class="line">		aDiv[i].style.left=aDiv[i-1].offsetLeft+&apos;px&apos;;</span><br><span class="line">		aDiv[i].style.top=aDiv[i-1].offsetTop+&apos;px&apos;;   //后一个等于前一个的位置</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	aDiv[0].style.left=pos.x+&apos;px&apos;;</span><br><span class="line">	aDiv[0].style.top=pos.y+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="jian-pan-shi-jian">键盘事件</span><a href="#jian-pan-shi-jian" class="header-anchor">#</a></h2><h3><span id="keycode">keyCode</span><a href="#keycode" class="header-anchor">#</a></h3><ul>
<li>获取用户按下键盘的哪个按键</li>
<li>onkeydown–按下</li>
<li>onkeyup–抬起</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">document.onkeydown=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	</span><br><span class="line">	alert(oEvent.keyCode);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4><span id="li-zi-jian-pan-kong-zhi-div-yi-dong">例子：键盘控制Div移动</span><a href="#li-zi-jian-pan-kong-zhi-div-yi-dong" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:100px; height:100px; background:#CCC; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line">document.onkeydown=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	if(oEvent.keyCode==37)</span><br><span class="line">	&#123;</span><br><span class="line">		oDiv.style.left=oDiv.offsetLeft-10+&apos;px&apos;;</span><br><span class="line">	&#125;</span><br><span class="line">	else if(oEvent.keyCode==39)</span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">		oDiv.style.left=oDiv.offsetLeft+10+&apos;px&apos;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="qi-ta-shu-xing">其他属性</span><a href="#qi-ta-shu-xing" class="header-anchor">#</a></h3><h4><span id="ctrlkey-shiftkey-altkey">ctrlKey、shiftKey、altKey</span><a href="#ctrlkey-shiftkey-altkey" class="header-anchor">#</a></h4><h4><span id="li-zi-ti-jiao-liu-yan">例子：提交留言</span><a href="#li-zi-ti-jiao-liu-yan" class="header-anchor">#</a></h4><ul>
<li>回车 提交</li>
<li>ctrl+回车 提交<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTxt1=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">	var oTxt2=document.getElementById(&apos;txt2&apos;);</span><br><span class="line">	</span><br><span class="line">	oTxt1.onkeydown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		if(oEvent.keyCode==13 &amp;&amp; oEvent.ctrlKey)</span><br><span class="line">		&#123;</span><br><span class="line">			oTxt2.value+=oTxt1.value+&apos;\n&apos;;</span><br><span class="line">			oTxt1.value=&apos;&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;1input id=&quot;txt1&quot; type=&quot;text&quot; /&gt;&lt;br&gt;</span><br><span class="line">&lt;1textarea id=&quot;txt2&quot; rows=&quot;10&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1><span id="js-shi-jian-zhong-ji">JS事件中级</span><a href="#js-shi-jian-zhong-ji" class="header-anchor">#</a></h1><h2><span id="mo-ren-xing-wei">默认行为</span><a href="#mo-ren-xing-wei" class="header-anchor">#</a></h2><h3><span id="mo-ren-xing-wei">默认行为</span><a href="#mo-ren-xing-wei" class="header-anchor">#</a></h3><ul>
<li>浏览器自带的行为就是默认行为</li>
</ul>
<h3><span id="zu-zhi-mo-ren-xing-wei">阻止默认行为</span><a href="#zu-zhi-mo-ren-xing-wei" class="header-anchor">#</a></h3><ul>
<li>普通写法：return flase;</li>
</ul>
<h4><span id="li-zi-1-ping-bi-you-jian-cai-dan">例子1.屏蔽右键菜单</span><a href="#li-zi-1-ping-bi-you-jian-cai-dan" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.oncontextmenu=function ()</span><br><span class="line">&#123;</span><br><span class="line">	return false;	//阻止默认事件</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>自定义右键菜单<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">* &#123;margin:0; padding:0; list-style:none;&#125;</span><br><span class="line">#div1 &#123;position:absolute; width:80px; background:#CCC; border:1px solid black; display:none;&#125;</span><br><span class="line"></span><br><span class="line">document.oncontextmenu=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.display=&apos;block&apos;;</span><br><span class="line">	oDiv.style.left=oEvent.clientX+&apos;px&apos;;</span><br><span class="line">	oDiv.style.top=oEvent.clientY+&apos;px&apos;;</span><br><span class="line">	</span><br><span class="line">	return false;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">document.onclick=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.display=&apos;none&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">    	&lt;li&gt;aaa&lt;/li&gt;</span><br><span class="line">    	&lt;li&gt;bbb&lt;/li&gt;</span><br><span class="line">    	&lt;li&gt;ccc&lt;/li&gt;</span><br><span class="line">    	&lt;li&gt;ddd&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="li-zi-2-zhi-neng-shu-ru-shu-zi-de-shu-ru-kuang">例子2.只能输入数字的输入框</span><a href="#li-zi-2-zhi-neng-shu-ru-shu-zi-de-shu-ru-kuang" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTxt=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">	</span><br><span class="line">	oTxt.onkeydown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		//alert(oEvent.keyCode);</span><br><span class="line">		</span><br><span class="line">		//0-	48</span><br><span class="line">		//9-	57</span><br><span class="line">		</span><br><span class="line">		//如果 用户按的 不是退格 并且 也不是数字</span><br><span class="line">		</span><br><span class="line">		if(oEvent.keyCode!=8 &amp;&amp; (oEvent.keyCode&lt;48 || oEvent.keyCode&gt;57))</span><br><span class="line">		&#123;</span><br><span class="line">			return false;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;1input type=&quot;text&quot; id=&quot;txt1&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h4><span id="fu-keycode-dui-zhao-biao">附 KeyCode对照表</span><a href="#fu-keycode-dui-zhao-biao" class="header-anchor">#</a></h4><p><img src="https://uknowsec-1251971873.cos.ap-shanghai.myqcloud.com/1.jpg" alt="javascript"><br><img src="https://uknowsec-1251971873.cos.ap-shanghai.myqcloud.com/2.jpg" alt="javascript"><br><img src="https://uknowsec-1251971873.cos.ap-shanghai.myqcloud.com/3.jpg" alt="javascript"><br><img src="https://uknowsec-1251971873.cos.ap-shanghai.myqcloud.com/4.jpg" alt="javascript"></p>
<h2><span id="tuo-zhuai">拖拽</span><a href="#tuo-zhuai" class="header-anchor">#</a></h2><h3><span id="jian-yi-tuo-zhuai">简易拖拽</span><a href="#jian-yi-tuo-zhuai" class="header-anchor">#</a></h3><ul>
<li>拖拽原理:鼠标与Div的距离不变，鼠标事件（onmousemove、onmousedown、onmouseup）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:200px; height:200px; background:red; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	var disX=0;</span><br><span class="line">	var disY=0;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">		disY=oEvent.clientY-oDiv.offsetTop;</span><br><span class="line">		</span><br><span class="line">		document.onmousemove=function (ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=oEvent.clientX-disX+&apos;px&apos;;</span><br><span class="line">			oDiv.style.top=oEvent.clientY-disY+&apos;px&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		document.onmouseup=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			document.onmousemove=null;   //鼠标抬起时，div不能再移动</span><br><span class="line">			document.onmouseup=null;   	</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="kao-pu-tuo-zhuai">靠谱拖拽</span><a href="#kao-pu-tuo-zhuai" class="header-anchor">#</a></h3><h4><span id="yuan-you-tuo-zhuai-de-wen-ti">原有拖拽的问题</span><a href="#yuan-you-tuo-zhuai-de-wen-ti" class="header-anchor">#</a></h4><ul>
<li>直接给document加事件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">document.onmousemove=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	</span><br><span class="line">	oDiv.style.left=oEvent.clientX-disX+&apos;px&apos;;</span><br><span class="line">	oDiv.style.top=oEvent.clientY-disY+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">document.onmouseup=function ()</span><br><span class="line">&#123;</span><br><span class="line">	document.onmousemove=null;</span><br><span class="line">	document.onmouseup=null;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="ff-xia-kong-div-tuo-zhuai-bug">FF下，空Div拖拽Bug</span><a href="#ff-xia-kong-div-tuo-zhuai-bug" class="header-anchor">#</a></h4><ul>
<li>阻止默认事件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">oDiv.onmousedown=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	</span><br><span class="line">	disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">	disY=oEvent.clientY-oDiv.offsetTop;</span><br><span class="line">	</span><br><span class="line">	document.onmousemove=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		oDiv.style.left=oEvent.clientX-disX+&apos;px&apos;;</span><br><span class="line">		oDiv.style.top=oEvent.clientY-disY+&apos;px&apos;;</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	document.onmouseup=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		document.onmousemove=null;</span><br><span class="line">		document.onmouseup=null;</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	return false;  //阻止默认事件</span><br><span class="line">&#125;;  //拖拽从onmousedown开始</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="fang-zhi-tuo-chu-ye-mian">防止拖出页面</span><a href="#fang-zhi-tuo-chu-ye-mian" class="header-anchor">#</a></h4><ul>
<li>修正位置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:200px; height:200px; background:red; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	var disX=0;</span><br><span class="line">	var disY=0;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">		disY=oEvent.clientY-oDiv.offsetTop;</span><br><span class="line">		</span><br><span class="line">		document.onmousemove=function (ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			var l=oEvent.clientX-disX;</span><br><span class="line">			var t=oEvent.clientY-disY;</span><br><span class="line">			</span><br><span class="line">			if(l&lt;0)  //小于0时直接等于0</span><br><span class="line">			&#123;</span><br><span class="line">				l=0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if(l&gt;document.documentElement.clientWidth-oDiv.offsetWidth)</span><br><span class="line">			&#123;</span><br><span class="line">				l=document.documentElement.clientWidth-oDiv.offsetWidth;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			if(t&lt;0)   同理</span><br><span class="line">			&#123;</span><br><span class="line">				t=0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if(t&gt;document.documentElement.clientHeight-oDiv.offsetHeight)</span><br><span class="line">			&#123;</span><br><span class="line">				t=document.documentElement.clientHeight-oDiv.offsetHeight;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">			oDiv.style.top=t+&apos;px&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		document.onmouseup=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			document.onmousemove=null;</span><br><span class="line">			document.onmouseup=null;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		return false;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h1><span id="js-shi-jian-gao-ji-ying-yong">JS事件高级应用</span><a href="#js-shi-jian-gao-ji-ying-yong" class="header-anchor">#</a></h1><h2><span id="shi-jian-bang-ding">事件绑定</span><a href="#shi-jian-bang-ding" class="header-anchor">#</a></h2><h3><span id="ie-fang-shi">IE方式</span><a href="#ie-fang-shi" class="header-anchor">#</a></h3><ul>
<li>attachEvent(事件名称, 函数)，绑定事件处理函数   事件名带on</li>
<li>detachEvent(事件名称, 函数)，解除绑定<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//attachEvent(事件名， 函数)</span><br><span class="line">//IE</span><br><span class="line">/*</span><br><span class="line">oBtn.attachEvent(&apos;onclick&apos;, function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;a&apos;);</span><br><span class="line">&#125;);</span><br><span class="line">oBtn.attachEvent(&apos;onclick&apos;, function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;b&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="dom-fang-shi">DOM 方式</span><a href="#dom-fang-shi" class="header-anchor">#</a></h3><ul>
<li>addEventListener(事件名, 函数, false)  事件名不带on</li>
<li>removeEventListener(事件名称, 函数, 捕获)</li>
</ul>
<h4><span id="huo-hu-fang-shi">火狐方式</span><a href="#huo-hu-fang-shi" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//FF</span><br><span class="line">//addEventListener(事件名, 函数, false)</span><br><span class="line">oBtn.addEventListener(&apos;click&apos;, function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;a&apos;);</span><br><span class="line">&#125;, false);</span><br><span class="line">oBtn.addEventListener(&apos;click&apos;, function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;b&apos;);</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>
<h4><span id="jian-rong-huo-hu-ie">兼容火狐、IE</span><a href="#jian-rong-huo-hu-ie" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">if(oBtn.attachEvent)</span><br><span class="line">&#123;</span><br><span class="line">	oBtn.attachEvent(&apos;onclick&apos;, function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;a&apos;);</span><br><span class="line">	&#125;);</span><br><span class="line">	oBtn.attachEvent(&apos;onclick&apos;, function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;b&apos;);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">	oBtn.addEventListener(&apos;click&apos;, function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;a&apos;);</span><br><span class="line">	&#125;, false);</span><br><span class="line">	oBtn.addEventListener(&apos;click&apos;, function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;b&apos;);</span><br><span class="line">	&#125;, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="jian-rong-feng-zhuang-han-shu">兼容封装函数</span><a href="#jian-rong-feng-zhuang-han-shu" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function myAddEvent(obj, ev, fn)</span><br><span class="line">&#123;</span><br><span class="line">	if(obj.attachEvent)</span><br><span class="line">	&#123;</span><br><span class="line">		obj.attachEvent(&apos;on&apos;+ev, fn);</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		obj.addEventListener(ev, fn, false);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	myAddEvent(oBtn, &apos;click&apos;, function ()&#123;</span><br><span class="line">		alert(&apos;a&apos;);</span><br><span class="line">	&#125;);</span><br><span class="line">	</span><br><span class="line">	myAddEvent(oBtn, &apos;click&apos;, function ()&#123;</span><br><span class="line">		alert(&apos;b&apos;);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2><span id="gao-ji-tuo-zhuai-1">高级拖拽-1</span><a href="#gao-ji-tuo-zhuai-1" class="header-anchor">#</a></h2><h3><span id="xian-zhi-fan-wei">限制范围</span><a href="#xian-zhi-fan-wei" class="header-anchor">#</a></h3><h4><span id="dui-wei-zhi-jin-xing-pan-duan">对位置进行判断</span><a href="#dui-wei-zhi-jin-xing-pan-duan" class="header-anchor">#</a></h4><ul>
<li>例子：不能拖出指定对象的Div<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">document.onmousemove=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	var l=oEvent.clientX-disX;</span><br><span class="line">	var t=oEvent.clientY-disY;</span><br><span class="line">	</span><br><span class="line">	if(l&lt;0)</span><br><span class="line">	&#123;</span><br><span class="line">		l=0;</span><br><span class="line">	&#125;</span><br><span class="line">	else if(l&gt;oDiv2.offsetWidth-oDiv.offsetWidth)  //限制范围时用到div的宽度</span><br><span class="line">	&#123;</span><br><span class="line">		l=oDiv2.offsetWidth-oDiv.offsetWidth;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	if(t&lt;0)</span><br><span class="line">	&#123;</span><br><span class="line">		t=0;</span><br><span class="line">	&#125;</span><br><span class="line">	else if(t&gt;oDiv2.offsetHeight-oDiv.offsetHeight)</span><br><span class="line">	&#123;</span><br><span class="line">		t=oDiv2.offsetHeight-oDiv.offsetHeight;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">	oDiv.style.top=t+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>####　磁性吸附</p>
<ul>
<li>修改legth的大小判断条件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">document.onmousemove=function (ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			var l=oEvent.clientX-disX;</span><br><span class="line">			var t=oEvent.clientY-disY;</span><br><span class="line">			</span><br><span class="line">			if(l&lt;50)  //修改legth的大小判断条件</span><br><span class="line">			&#123;</span><br><span class="line">				l=0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if(l&gt;oDiv2.offsetWidth-oDiv.offsetWidth)</span><br><span class="line">			&#123;</span><br><span class="line">				l=oDiv2.offsetWidth-oDiv.offsetWidth;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			if(t&lt;50)</span><br><span class="line">			&#123;</span><br><span class="line">				t=0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if(t&gt;oDiv2.offsetHeight-oDiv.offsetHeight)</span><br><span class="line">			&#123;</span><br><span class="line">				t=oDiv2.offsetHeight-oDiv.offsetHeight;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">			oDiv.style.top=t+&apos;px&apos;;</span><br><span class="line">		&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="gao-ji-tuo-zhuai-2">高级拖拽-2</span><a href="#gao-ji-tuo-zhuai-2" class="header-anchor">#</a></h2><h3><span id="tu-pian-tuo-zhuai">图片拖拽</span><a href="#tu-pian-tuo-zhuai" class="header-anchor">#</a></h3><ul>
<li>阻止默认事件<h3><span id="wen-zi-xuan-zhong">文字选中</span><a href="#wen-zi-xuan-zhong" class="header-anchor">#</a></h3></li>
<li>阻止默认事件</li>
<li>IE下拖动有问题</li>
</ul>
<h4><span id="shi-jian-bu-huo">事件捕获</span><a href="#shi-jian-bu-huo" class="header-anchor">#</a></h4><ul>
<li>setCapture()     开启捕获</li>
<li>releaseCapture() 释放捕获</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:100px; height:100px; background:red; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	var disX=0;</span><br><span class="line">	var disY=0;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">		disY=oEvent.clientY-oDiv.offsetTop;</span><br><span class="line">		</span><br><span class="line">		if(oDiv.setCapture)</span><br><span class="line">		&#123;</span><br><span class="line">			//IE</span><br><span class="line">			oDiv.onmousemove=mouseMove;</span><br><span class="line">			oDiv.onmouseup=mouseUp;</span><br><span class="line">			</span><br><span class="line">			oDiv.setCapture();</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			//Chrome、FF</span><br><span class="line">			document.onmousemove=mouseMove;</span><br><span class="line">			document.onmouseup=mouseUp;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		function mouseMove(ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			var l=oEvent.clientX-disX;</span><br><span class="line">			var t=oEvent.clientY-disY;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">			oDiv.style.top=t+&apos;px&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		function mouseUp()</span><br><span class="line">		&#123;</span><br><span class="line">			this.onmousemove=null;</span><br><span class="line">			this.onmouseup=null;</span><br><span class="line">			</span><br><span class="line">			if(oDiv.releaseCapture)</span><br><span class="line">			&#123;</span><br><span class="line">				oDiv.releaseCapture();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		return false;	//chrome、ff、IE9</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">asdfasdfsdf&lt;br&gt;</span><br><span class="line">dfasfasdfasd</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;asdfasdfsdf&lt;br&gt;</span><br><span class="line">dfasfasdfasd&lt;/div&gt;</span><br><span class="line">asdfasdfsdf&lt;br&gt;</span><br><span class="line">dfasfasdfasd</span><br></pre></td></tr></table></figure>
<h3><span id="yu-dom-pei-he">与DOM配合</span><a href="#yu-dom-pei-he" class="header-anchor">#</a></h3><ul>
<li>带框的拖拽</li>
<li>保留原有位置的拖拽</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:100px; height:100px; background:yellow; position:absolute;&#125;</span><br><span class="line">.box &#123;border:1px dashed black; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	var disX=0;</span><br><span class="line">	var disY=0;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">		disY=oEvent.clientY-oDiv.offsetTop;</span><br><span class="line">		</span><br><span class="line">		var oBox=document.createElement(&apos;div&apos;);</span><br><span class="line">		</span><br><span class="line">		oBox.className=&apos;box&apos;;</span><br><span class="line">		oBox.style.width=oDiv.offsetWidth-2+&apos;px&apos;;</span><br><span class="line">		oBox.style.height=oDiv.offsetHeight-2+&apos;px&apos;;</span><br><span class="line">		</span><br><span class="line">		oBox.style.left=oDiv.offsetLeft+&apos;px&apos;;</span><br><span class="line">		oBox.style.top=oDiv.offsetTop+&apos;px&apos;;</span><br><span class="line">		</span><br><span class="line">		document.body.appendChild(oBox);</span><br><span class="line">		</span><br><span class="line">		document.onmousemove=function (ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			var l=oEvent.clientX-disX;</span><br><span class="line">			var t=oEvent.clientY-disY;</span><br><span class="line">			</span><br><span class="line">			oBox.style.left=l+&apos;px&apos;;</span><br><span class="line">			oBox.style.top=t+&apos;px&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		document.onmouseup=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			document.onmousemove=null;</span><br><span class="line">			document.onmouseup=null;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=oBox.offsetLeft+&apos;px&apos;;</span><br><span class="line">			oDiv.style.top=oBox.offsetTop+&apos;px&apos;;</span><br><span class="line">			</span><br><span class="line">			document.body.removeChild(oBox);</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		return false;	//chrome、ff、IE9</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="zi-ding-yi-gun-dong-tiao">自定义滚动条</span><a href="#zi-ding-yi-gun-dong-tiao" class="header-anchor">#</a></h2><h3><span id="tuo-zhuai">拖拽</span><a href="#tuo-zhuai" class="header-anchor">#</a></h3><ul>
<li>只有横向拖拽</li>
<li>限制范围——范围的大小</li>
<li>计算比例——当前值/最大值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#parent &#123;width:600px; height:20px; background:#CCC; position:relative; margin:10px auto;&#125;</span><br><span class="line">#div1 &#123;width:20px; height:20px; background:red; position:absolute; left:0; top:0;&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	var oParent=document.getElementById(&apos;parent&apos;);</span><br><span class="line">	</span><br><span class="line">	var disX=0;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">				</span><br><span class="line">		document.onmousemove=function (ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			var l=oEvent.clientX-disX;</span><br><span class="line">			</span><br><span class="line">			if(l&lt;0)</span><br><span class="line">			&#123;</span><br><span class="line">				l=0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if(l&gt;oParent.offsetWidth-oDiv.offsetWidth)</span><br><span class="line">			&#123;</span><br><span class="line">				l=oParent.offsetWidth-oDiv.offsetWidth;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		document.onmouseup=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			document.onmousemove=null;</span><br><span class="line">			document.onmouseup=null;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		return false;	//chrome、ff、IE9</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;parent&quot;&gt;</span><br><span class="line">	&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="kong-zhi-qi-ta-dui-xiang">控制其他对象</span><a href="#kong-zhi-qi-ta-dui-xiang" class="header-anchor">#</a></h3><h4><span id="li-zi-1-kong-zhi-wu-ti-de-da-xiao">例子1：控制物体的大小</span><a href="#li-zi-1-kong-zhi-wu-ti-de-da-xiao" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#parent &#123;width:600px; height:20px; background:#CCC; position:relative; margin:10px auto;&#125;</span><br><span class="line">#div1 &#123;width:20px; height:20px; background:red; position:absolute; left:0; top:0;&#125;</span><br><span class="line">#div2 &#123;width:0px; height:0px; background:green;&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	var oDiv2=document.getElementById(&apos;div2&apos;);</span><br><span class="line">	var oParent=document.getElementById(&apos;parent&apos;);</span><br><span class="line">	</span><br><span class="line">	var disX=0;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">				</span><br><span class="line">		document.onmousemove=function (ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			var l=oEvent.clientX-disX;</span><br><span class="line">			</span><br><span class="line">			if(l&lt;0)</span><br><span class="line">			&#123;</span><br><span class="line">				l=0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if(l&gt;oParent.offsetWidth-oDiv.offsetWidth)</span><br><span class="line">			&#123;</span><br><span class="line">				l=oParent.offsetWidth-oDiv.offsetWidth;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">			</span><br><span class="line">			var scale=l/(oParent.offsetWidth-oDiv.offsetWidth);</span><br><span class="line">			document.title=scale;</span><br><span class="line">			</span><br><span class="line">			oDiv2.style.width=400*scale+&apos;px&apos;;</span><br><span class="line">			oDiv2.style.height=400*scale+&apos;px&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		document.onmouseup=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			document.onmousemove=null;</span><br><span class="line">			document.onmouseup=null;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		return false;	//chrome、ff、IE9</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;parent&quot;&gt;</span><br><span class="line">	&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h4><span id="li-zi-2-kong-zhi-wu-ti-de-tou-ming-du">例子2：控制物体的透明度</span><a href="#li-zi-2-kong-zhi-wu-ti-de-tou-ming-du" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#parent &#123;width:600px; height:20px; background:#CCC; position:relative; margin:10px auto;&#125;</span><br><span class="line">#div1 &#123;width:20px; height:20px; background:red; position:absolute; left:0; top:0;&#125;</span><br><span class="line">#div2 &#123;width:300px; height:300px; background:green; filter:alpha(opacity:0); opacity:0;&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	var oDiv2=document.getElementById(&apos;div2&apos;);</span><br><span class="line">	var oParent=document.getElementById(&apos;parent&apos;);</span><br><span class="line">	</span><br><span class="line">	var disX=0;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">				</span><br><span class="line">		document.onmousemove=function (ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			var l=oEvent.clientX-disX;</span><br><span class="line">			</span><br><span class="line">			if(l&lt;0)</span><br><span class="line">			&#123;</span><br><span class="line">				l=0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if(l&gt;oParent.offsetWidth-oDiv.offsetWidth)</span><br><span class="line">			&#123;</span><br><span class="line">				l=oParent.offsetWidth-oDiv.offsetWidth;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">			</span><br><span class="line">			var scale=l/(oParent.offsetWidth-oDiv.offsetWidth);</span><br><span class="line">			document.title=scale;</span><br><span class="line">			</span><br><span class="line">			oDiv2.style.filter=&apos;alpha(opacity:&apos;+scale*100+&apos;)&apos;;</span><br><span class="line">			oDiv2.style.opacity=scale;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		document.onmouseup=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			document.onmousemove=null;</span><br><span class="line">			document.onmouseup=null;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		return false;	//chrome、ff、IE9</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;parent&quot;&gt;</span><br><span class="line">	&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h4><span id="li-zi-3-kong-zhi-wen-zi-gun-dong">例子3：控制文字滚动</span><a href="#li-zi-3-kong-zhi-wen-zi-gun-dong" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">#parent &#123;width:600px; height:20px; background:#CCC; position:relative; margin:10px auto;&#125;</span><br><span class="line">#div1 &#123;width:20px; height:20px; background:red; position:absolute; left:0; top:0;&#125;</span><br><span class="line">#div2 &#123;width:400px; height:300px; border:1px solid black; overflow:hidden; position:relative;&#125;</span><br><span class="line">#div3 &#123;position:absolute; left:0; top:0; padding:4px;&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	var oDiv2=document.getElementById(&apos;div2&apos;);</span><br><span class="line">	var oDiv3=document.getElementById(&apos;div3&apos;);</span><br><span class="line">	var oParent=document.getElementById(&apos;parent&apos;);</span><br><span class="line">	</span><br><span class="line">	var disX=0;</span><br><span class="line">	</span><br><span class="line">	oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		var oEvent=ev||event;</span><br><span class="line">		</span><br><span class="line">		disX=oEvent.clientX-oDiv.offsetLeft;</span><br><span class="line">				</span><br><span class="line">		document.onmousemove=function (ev)</span><br><span class="line">		&#123;</span><br><span class="line">			var oEvent=ev||event;</span><br><span class="line">			var l=oEvent.clientX-disX;</span><br><span class="line">			</span><br><span class="line">			if(l&lt;0)</span><br><span class="line">			&#123;</span><br><span class="line">				l=0;</span><br><span class="line">			&#125;</span><br><span class="line">			else if(l&gt;oParent.offsetWidth-oDiv.offsetWidth)</span><br><span class="line">			&#123;</span><br><span class="line">				l=oParent.offsetWidth-oDiv.offsetWidth;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">			</span><br><span class="line">			var scale=l/(oParent.offsetWidth-oDiv.offsetWidth);</span><br><span class="line">			document.title=scale;</span><br><span class="line">			</span><br><span class="line">			oDiv3.style.top=-scale*(oDiv3.offsetHeight-oDiv2.offsetHeight)+&apos;px&apos;;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		document.onmouseup=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			document.onmousemove=null;</span><br><span class="line">			document.onmouseup=null;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		return false;	//chrome、ff、IE9</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;parent&quot;&gt;</span><br><span class="line">	&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;</span><br><span class="line">	&lt;div id=&quot;div3&quot;&gt;    </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h1><span id="ajax-ji-chu">Ajax基础</span><a href="#ajax-ji-chu" class="header-anchor">#</a></h1><h2><span id="shi-me-shi-ajax">什么是 Ajax</span><a href="#shi-me-shi-ajax" class="header-anchor">#</a></h2><p>AJAX = 异步 JavaScript 和 XML。<br>AJAX 是一种用于创建快速动态网页的技术。<br>通过在后台与服务器进行少量数据交换，AJAX 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</p>
<h3><span id="ajax-js">Ajax.js</span><a href="#ajax-js" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">function ajax(url, fnSucc, fnFaild)</span><br><span class="line">&#123;</span><br><span class="line">	//1.创建Ajax对象</span><br><span class="line">	if(window.XMLHttpRequest)</span><br><span class="line">	&#123;</span><br><span class="line">		var oAjax=new XMLHttpRequest();</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		var oAjax=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	//2.连接服务器（打开和服务器的连接）</span><br><span class="line">	oAjax.open(&apos;GET&apos;, url, true);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	//3.发送</span><br><span class="line">	oAjax.send();</span><br><span class="line">	</span><br><span class="line">	//4.接收</span><br><span class="line">	oAjax.onreadystatechange=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		if(oAjax.readyState==4)</span><br><span class="line">		&#123;</span><br><span class="line">			if(oAjax.status==200)</span><br><span class="line">			&#123;</span><br><span class="line">				//alert(&apos;成功了：&apos;+oAjax.responseText);</span><br><span class="line">				fnSucc(oAjax.responseText);</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				//alert(&apos;失败了&apos;);</span><br><span class="line">				if(fnFaild)</span><br><span class="line">				&#123;</span><br><span class="line">					fnFaild();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="shi-yong-ajax">使用Ajax</span><a href="#shi-yong-ajax" class="header-anchor">#</a></h2><h3><span id="ji-chu-qing-qiu-bing-xian-shi-jing-tai-txt-wen-jian">基础：请求并显示静态TXT文件</span><a href="#ji-chu-qing-qiu-bing-xian-shi-jing-tai-txt-wen-jian" class="header-anchor">#</a></h3><ul>
<li>字符集编码（统一编码）</li>
<li>缓存、阻止缓存<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;ajax.js&quot;&gt;&lt;/script&gt;  //引用ajax.js</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		ajax(&apos;aaa.txt&apos;, function (str)&#123;</span><br><span class="line">			alert(str);</span><br><span class="line">		&#125;, function ()&#123;</span><br><span class="line">			alert(&apos;失败&apos;);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;1input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;读取&quot; /&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4><span id="zu-zhi-huan-cun">阻止缓存</span><a href="#zu-zhi-huan-cun" class="header-anchor">#</a></h4><ul>
<li>ajax(‘aaa.txt?t=’+new Date().getTime(), function (str)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		ajax(&apos;aaa.txt?t=&apos;+new Date().getTime(), function (str)&#123;</span><br><span class="line">			alert(str);</span><br><span class="line">		&#125;, function ()&#123;</span><br><span class="line">			alert(&apos;失败&apos;);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="dong-tai-shu-ju-qing-qiu-js-huo-json-wen-jian">动态数据：请求JS（或Json）文件</span><a href="#dong-tai-shu-ju-qing-qiu-js-huo-json-wen-jian" class="header-anchor">#</a></h3><ul>
<li>eval的使用</li>
<li>DOM创建元素<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;ajax.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	var oUl=document.getElementById(&apos;ul1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		ajax(&apos;data.txt?t=&apos;+new Date().getTime(), function (str)&#123;</span><br><span class="line">			var arr=eval(str);</span><br><span class="line">			</span><br><span class="line">			for(var i=0;i&lt;arr.length;i++)</span><br><span class="line">			&#123;</span><br><span class="line">				var oLi=document.createElement(&apos;li&apos;);</span><br><span class="line">				</span><br><span class="line">				oLi.innerHTML=&apos;用户名：&lt;strong&gt;&apos;+arr[i].user+&apos;&lt;/strong&gt;密码：&lt;span&gt;&apos;+arr[i].pass+&apos;&lt;/span&gt;&apos;;</span><br><span class="line">				</span><br><span class="line">				oUl.appendChild(oLi);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;, function ()&#123;</span><br><span class="line">			alert(&apos;失败&apos;);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;1input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;读取&quot; /&gt;</span><br><span class="line">&lt;ul id=&quot;ul1&quot;&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="ajax-yuan-li">Ajax原理</span><a href="#ajax-yuan-li" class="header-anchor">#</a></h2><h3><span id="http-qing-qiu-fang-fa">HTTP请求方法</span><a href="#http-qing-qiu-fang-fa" class="header-anchor">#</a></h3><ul>
<li>GET方法是默认的HTTP请求方法，我们日常用GET方法来提交表单数据，然而用GET方法提交的表单数据只经过了简单的编码，同时它将作为URL的一部分向Web服务器发送，因此，如果使用GET方法来提交表单数据就存在着安全隐患上</li>
<li>POST方法是GET方法的一个替代方法，它主要是向Web服务器提交表单数据，尤其是大批量的数据。POST方法克服了GET方法的一些缺点。通过POST方法提交表单数据时，数据不是作为URL请求的一部分而是作为标准数据传送给Web服务器，这就克服了GET方法中的信息无法保密和数据量太小的缺点。</li>
</ul>
<h1><span id="ajax-zhong-ji">Ajax中级</span><a href="#ajax-zhong-ji" class="header-anchor">#</a></h1><h2><span id="bian-xie-ajax-1">编写Ajax-1</span><a href="#bian-xie-ajax-1" class="header-anchor">#</a></h2><h3><span id="chuang-jian-ajax-dui-xiang">创建Ajax对象</span><a href="#chuang-jian-ajax-dui-xiang" class="header-anchor">#</a></h3><ul>
<li>ActiveXObject(“Microsoft.XMLHTTP”)   //IE6</li>
<li>XMLHttpRequest()</li>
<li>全局变量是window的属性</li>
<li>用没定义的变量–报错</li>
<li>用没有定义的属性–undefined</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//1.创建Ajax对象 用属性的形式来判断</span><br><span class="line">if(window.XMLHttpRequest)</span><br><span class="line">&#123;</span><br><span class="line">	var oAjax=new XMLHttpRequest();</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">	var oAjax=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="lian-jie-fu-wu-qi">连接服务器</span><a href="#lian-jie-fu-wu-qi" class="header-anchor">#</a></h3><ul>
<li>open(方法, 文件名, 异步传输)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//2.连接服务器</span><br><span class="line">//open(方法, 文件名, 异步传输)</span><br><span class="line">oAjax.open(&apos;GET&apos;, &apos;a.txt&apos;, true);</span><br></pre></td></tr></table></figure>
<h4><span id="tong-bu-he-yi-bu">同步和异步</span><a href="#tong-bu-he-yi-bu" class="header-anchor">#</a></h4><ul>
<li>同步传输（一步一步）是一种以数据块为传输单位的数据传输方式，该方式下数据块与数据块之间的时间间隔是固定的，必须严格地规定它们的时间关系。每个数据块的头部和尾部都要附加一个特殊的字符或比特序列，标记一个数据块的开始和结束，一般还要附加一个校验序列，以便对数据块进行差错控制。</li>
<li>异步传输（一起）将比特分成小组进行传送，小组可以是8位的1个字符或更长。发送方可以在任何时刻发送这些比特组，而接收方从不知道它们会在什么时候到达。</li>
<li>Ajax就是用异步传输</li>
</ul>
<h3><span id="fa-song-qing-qiu">发送请求</span><a href="#fa-song-qing-qiu" class="header-anchor">#</a></h3><ul>
<li>send()<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oAjax.send();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="jie-shou-fan-hui-zhi">接收返回值</span><a href="#jie-shou-fan-hui-zhi" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//4.接收返回</span><br><span class="line">oAjax.onreadystatechange=function ()</span><br><span class="line">&#123;</span><br><span class="line">	//oAjax.readyState	//浏览器和服务器，进行到哪一步了</span><br><span class="line">	if(oAjax.readyState==4)	//读取完成</span><br><span class="line">	&#123;</span><br><span class="line">		if(oAjax.status==200)	//成功</span><br><span class="line">		&#123;</span><br><span class="line">			alert(&apos;成功：&apos;+oAjax.responseText);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			alert(&apos;失败:&apos;+oAjax.status);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="ajax">Ajax</span><a href="#ajax" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">function ajax(url, fnSucc, fnFaild)</span><br><span class="line">&#123;</span><br><span class="line">	//1.创建Ajax对象</span><br><span class="line">	if(window.XMLHttpRequest)</span><br><span class="line">	&#123;</span><br><span class="line">		var oAjax=new XMLHttpRequest();</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		var oAjax=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	//2.连接服务器</span><br><span class="line">	//open(方法, 文件名, 异步传输)</span><br><span class="line">	oAjax.open(&apos;GET&apos;, url, true);</span><br><span class="line">	</span><br><span class="line">	//3.发送请求</span><br><span class="line">	oAjax.send();</span><br><span class="line">	</span><br><span class="line">	//4.接收返回</span><br><span class="line">	oAjax.onreadystatechange=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		//oAjax.readyState	//浏览器和服务器，进行到哪一步了</span><br><span class="line">		if(oAjax.readyState==4)	//读取完成</span><br><span class="line">		&#123;</span><br><span class="line">			if(oAjax.status==200)	//成功</span><br><span class="line">			&#123;</span><br><span class="line">				fnSucc(oAjax.responseText);</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				if(fnFaild)</span><br><span class="line">				&#123;</span><br><span class="line">					fnFaild(oAjax.status);</span><br><span class="line">				&#125;</span><br><span class="line">				//alert(&apos;失败:&apos;+oAjax.status);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="bian-xie-ajax-2">编写Ajax - 2</span><a href="#bian-xie-ajax-2" class="header-anchor">#</a></h2><h3><span id="qing-qiu-zhuang-tai-jian-kong">请求状态监控</span><a href="#qing-qiu-zhuang-tai-jian-kong" class="header-anchor">#</a></h3><h4><span id="onreadystatechange-shi-jian">onreadystatechange事件</span><a href="#onreadystatechange-shi-jian" class="header-anchor">#</a></h4><ul>
<li>onreadystatechange     存储函数（或函数名</li>
<li>每当 readyState 属性改变时，就会调用该函数。</li>
</ul>
<h4><span id="readystate-shu-xing-qing-qiu-zhuang-tai">readyState属性：请求状态</span><a href="#readystate-shu-xing-qing-qiu-zhuang-tai" class="header-anchor">#</a></h4><table>
<thead>
<tr>
<th>readyState属性值</th>
<th style="text-align:left">请求状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>0  （未初始化）</td>
<td style="text-align:left">还没有调用open()方法</td>
</tr>
<tr>
<td>1  （载入）</td>
<td style="text-align:left">已调用send()方法，正在发送请求</td>
</tr>
<tr>
<td>2  （载入完成）</td>
<td style="text-align:left">send()方法完成，已收到全部响应内容</td>
</tr>
<tr>
<td>3  （解析）</td>
<td style="text-align:left">正在解析响应内容</td>
</tr>
<tr>
<td>4  （完成）</td>
<td style="text-align:left">响应内容解析完成，可以在客户端调用了</td>
</tr>
</tbody>
</table>
<h4><span id="status-shu-xing-qing-qiu-jie-guo">status属性：请求结果</span><a href="#status-shu-xing-qing-qiu-jie-guo" class="header-anchor">#</a></h4><h5><span id="1xx-lin-shi-xiang-ying">1xx（临时响应）</span><a href="#1xx-lin-shi-xiang-ying" class="header-anchor">#</a></h5><p>表示临时响应并需要请求者继续执行操作的状态代码。</p>
<table>
<thead>
<tr>
<th>代码</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>100   （继续）</td>
<td style="text-align:left">请求者应当继续提出请求。 服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。</td>
</tr>
<tr>
<td>101   （切换协议）</td>
<td style="text-align:left">请求者已要求服务器切换协议，服务器已确认并准备切换。</td>
</tr>
</tbody>
</table>
<h5><span id="2xx-cheng-gong">2xx （成功）</span><a href="#2xx-cheng-gong" class="header-anchor">#</a></h5><p>表示成功处理了请求的状态代码。</p>
<table>
<thead>
<tr>
<th>代码</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>200   （成功）</td>
<td style="text-align:left">服务器已成功处理了请求。 通常，这表示服务器提供了请求的网页。</td>
</tr>
<tr>
<td>201   （已创建）</td>
<td style="text-align:left">请求成功并且服务器创建了新的资源。</td>
</tr>
<tr>
<td>202   （已接受）</td>
<td style="text-align:left">服务器已接受请求，但尚未处理。</td>
</tr>
<tr>
<td>203   （非授权信息）</td>
<td style="text-align:left">服务器已成功处理了请求，但返回的信息可能来自另一来源。</td>
</tr>
<tr>
<td>204   （无内容）</td>
<td style="text-align:left">服务器成功处理了请求，但没有返回任何内容。</td>
</tr>
<tr>
<td>205   （重置内容）</td>
<td style="text-align:left">服务器成功处理了请求，但没有返回任何内容。</td>
</tr>
<tr>
<td>206   （部分内容）</td>
<td style="text-align:left">服务器成功处理了部分 GET 请求。</td>
</tr>
</tbody>
</table>
<h5><span id="3xx-chong-ding-xiang">3xx （重定向）</span><a href="#3xx-chong-ding-xiang" class="header-anchor">#</a></h5><p>表示要完成请求，需要进一步操作。 通常，这些状态代码用来重定向。</p>
<table>
<thead>
<tr>
<th>代码</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>300   （多种选择）</td>
<td style="text-align:left">针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。</td>
</tr>
<tr>
<td>301   （永久移动）</td>
<td style="text-align:left">请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。</td>
</tr>
<tr>
<td>302   （临时移动）</td>
<td style="text-align:left">服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</td>
</tr>
<tr>
<td>303   （查看其他位置）</td>
<td style="text-align:left">请求者应当对不同的位置使用单独的 GET 请求来检索响应时，服务器返回此代码。</td>
</tr>
<tr>
<td>304   （未修改）</td>
<td style="text-align:left">自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容。</td>
</tr>
<tr>
<td>305   （使用代理）</td>
<td style="text-align:left">请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。</td>
</tr>
<tr>
<td>307   （临时重定向）</td>
<td style="text-align:left">服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</td>
</tr>
</tbody>
</table>
<h5><span id="4xx-qing-qiu-cuo-wu">4xx（请求错误）</span><a href="#4xx-qing-qiu-cuo-wu" class="header-anchor">#</a></h5><p>这些状态代码表示请求可能出错，妨碍了服务器的处理。</p>
<table>
<thead>
<tr>
<th>代码</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>400   （错误请求）</td>
<td style="text-align:left">服务器不理解请求的语法。</td>
</tr>
<tr>
<td>401   （未授权）</td>
<td style="text-align:left">请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。</td>
</tr>
<tr>
<td>403   （禁止）</td>
<td style="text-align:left">服务器拒绝请求。</td>
</tr>
<tr>
<td>404   （未找到）</td>
<td style="text-align:left">服务器找不到请求的网页。</td>
</tr>
<tr>
<td>405   （方法禁用）</td>
<td style="text-align:left">禁用请求中指定的方法。</td>
</tr>
<tr>
<td>406   （不接受）</td>
<td style="text-align:left">无法使用请求的内容特性响应请求的网页。</td>
</tr>
<tr>
<td>407   （需要代理授权）</td>
<td style="text-align:left">此状态代码与 401（未授权）类似，但指定请求者应当授权使用代理。</td>
</tr>
<tr>
<td>408   （请求超时）</td>
<td style="text-align:left">服务器等候请求时发生超时。</td>
</tr>
<tr>
<td>409   （冲突）</td>
<td style="text-align:left">服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。</td>
</tr>
<tr>
<td>410   （已删除）</td>
<td style="text-align:left">如果请求的资源已永久删除，服务器就会返回此响应。</td>
</tr>
<tr>
<td>411   （需要有效长度）</td>
<td style="text-align:left">服务器不接受不含有效内容长度标头字段的请求。</td>
</tr>
<tr>
<td>412   （未满足前提条件）</td>
<td style="text-align:left">服务器未满足请求者在请求中设置的其中一个前提条件。</td>
</tr>
<tr>
<td>413   （请求实体过大）</td>
<td style="text-align:left">服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。</td>
</tr>
<tr>
<td>414   （请求的 URI 过长）</td>
<td style="text-align:left">请求的 URI（通常为网址）过长，服务器无法处理。</td>
</tr>
<tr>
<td>415   （不支持的媒体类型）</td>
<td style="text-align:left">请求的格式不受请求页面的支持。</td>
</tr>
<tr>
<td>416   （请求范围不符合要求）</td>
<td style="text-align:left">如果页面无法提供请求的范围，则服务器会返回此状态代码。</td>
</tr>
<tr>
<td>417   （未满足期望值）</td>
<td style="text-align:left">服务器未满足”期望”请求标头字段的要求。</td>
</tr>
</tbody>
</table>
<h5><span id="5xx-fu-wu-qi-cuo-wu">5xx（服务器错误）</span><a href="#5xx-fu-wu-qi-cuo-wu" class="header-anchor">#</a></h5><p>这些状态代码表示服务器在尝试处理请求时发生内部错误。 这些错误可能是服务器本身的错误，而不是请求出错。</p>
<table>
<thead>
<tr>
<th>代码</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>500   （服务器内部错误）</td>
<td style="text-align:left">服务器遇到错误，无法完成请求。</td>
</tr>
<tr>
<td>501   （尚未实施）</td>
<td style="text-align:left">服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。</td>
</tr>
<tr>
<td>502   （错误网关）</td>
<td style="text-align:left">服务器作为网关或代理，从上游服务器收到无效响应。</td>
</tr>
<tr>
<td>503   （服务不可用）</td>
<td style="text-align:left">服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态。</td>
</tr>
<tr>
<td>504   （网关超时）</td>
<td style="text-align:left">服务器作为网关或代理，但是没有及时从上游服务器收到请求。</td>
</tr>
<tr>
<td>505   （HTTP 版本不受支持）</td>
<td style="text-align:left">服务器不支持请求中所用的 HTTP 协议版本。</td>
</tr>
</tbody>
</table>
<h4><span id="fu-wu-qi-xiang-ying">服务器响应</span><a href="#fu-wu-qi-xiang-ying" class="header-anchor">#</a></h4><ul>
<li>responseText 属性：如果来自服务器的响应并非 XML，请使用 responseText 属性。</li>
<li>responseXML 属性：如果来自服务器的响应是 XML，而且需要作为 XML 对象进行解析，使用responseXML属性</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>responseText</td>
<td style="text-align:left">获得字符串形式的响应数据。</td>
</tr>
<tr>
<td>responseXML</td>
<td style="text-align:left">获得 XML 形式的响应数据。</td>
</tr>
</tbody>
</table>
<h1><span id="js-mian-xiang-dui-xiang-ji-chu">JS面向对象基础</span><a href="#js-mian-xiang-dui-xiang-ji-chu" class="header-anchor">#</a></h1><h2><span id="shi-me-shi-dui-xiang">什么是对象</span><a href="#shi-me-shi-dui-xiang" class="header-anchor">#</a></h2><ul>
<li>JavaScript 中的所有事物都是对象：字符串、数值、数组、函数</li>
<li>JavaScript 提供多个内建对象，比如 String、Date、Array 等等。</li>
<li>对象只是带有属性和方法的特殊数据类型。</li>
</ul>
<h2><span id="shi-me-shi-mian-xiang-dui-xiang">什么是面向对象</span><a href="#shi-me-shi-mian-xiang-dui-xiang" class="header-anchor">#</a></h2><ul>
<li>使用对象时，只关注对象提供的功能，不关注其内部细节</li>
<li>比如JQuery</li>
</ul>
<h2><span id="js-zhong-de-mian-xiang-dui-xiang">JS中的面向对象</span><a href="#js-zhong-de-mian-xiang-dui-xiang" class="header-anchor">#</a></h2><h3><span id="mian-xiang-dui-xiang-bian-cheng-oop-de-te-dian">面向对象编程(OOP)的特点</span><a href="#mian-xiang-dui-xiang-bian-cheng-oop-de-te-dian" class="header-anchor">#</a></h3><ul>
<li>抽象：抓住核心问题</li>
<li>封装：不考虑内部实现，只考虑功能使用</li>
<li>继承：从已有对象上，继承出新的对象<br>多重继承<br>多态</li>
</ul>
<h3><span id="dui-xiang-de-zu-cheng">对象的组成</span><a href="#dui-xiang-de-zu-cheng" class="header-anchor">#</a></h3><ul>
<li>方法——函数：过程、动态的</li>
<li>属性——变量：状态、静态的</li>
</ul>
<h4><span id="fang-fa-han-shu-guo-cheng-dong-tai-de">方法——函数：过程、动态的</span><a href="#fang-fa-han-shu-guo-cheng-dong-tai-de" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function aaa()			//函数：自由</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;abc&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr=[1,2,3,4];</span><br><span class="line"></span><br><span class="line">arr.aaa=function ()		//方法：属于一个对象</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;abc&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">aaa();</span><br><span class="line">arr.aaa();</span><br></pre></td></tr></table></figure>
<h4><span id="shu-xing-bian-liang-zhuang-tai-jing-tai-de">属性——变量：状态、静态的</span><a href="#shu-xing-bian-liang-zhuang-tai-jing-tai-de" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var a=12;		//变量：自由的，不属于任何人</span><br><span class="line"></span><br><span class="line">alert(a);</span><br><span class="line"></span><br><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line"></span><br><span class="line">arr.a=12;		//属性：属于一个对象的</span><br><span class="line"></span><br><span class="line">alert(arr.a);</span><br></pre></td></tr></table></figure>
<h2><span id="di-yi-ge-mian-xiang-dui-xiang-cheng-xu">第一个面向对象程序</span><a href="#di-yi-ge-mian-xiang-dui-xiang-cheng-xu" class="header-anchor">#</a></h2><h3><span id="wei-dui-xiang-tian-jia-fang-fa-he-shu-xing">为对象添加方法和属性</span><a href="#wei-dui-xiang-tian-jia-fang-fa-he-shu-xing" class="header-anchor">#</a></h3><h4><span id="this-xiang-jie-shi-jian-chu-li-zhong-this-de-ben-zhi">this详解，事件处理中this的本质</span><a href="#this-xiang-jie-shi-jian-chu-li-zhong-this-de-ben-zhi" class="header-anchor">#</a></h4><ul>
<li>当前发生事件的对象</li>
<li>当前的方法所属的对象</li>
</ul>
<h4><span id="bu-neng-zai-xi-tong-dui-xiang-zhong-sui-yi-fu-jia-fang-fa-shu-xing-fou-ze-hui-fu-gai-yi-you-fang-fa-shu-xing">不能在系统对象中随意附加方法、属性，否则会覆盖已有方法、属性</span><a href="#bu-neng-zai-xi-tong-dui-xiang-zhong-sui-yi-fu-jia-fang-fa-shu-xing-fou-ze-hui-fu-gai-yi-you-fang-fa-shu-xing" class="header-anchor">#</a></h4><h4><span id="object-dui-xiang">object对象</span><a href="#object-dui-xiang" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function createPerson(name, qq)		//构造函数</span><br><span class="line">&#123;</span><br><span class="line">	var obj=new Object();</span><br><span class="line">	</span><br><span class="line">	obj.name=name;</span><br><span class="line">	obj.qq=qq;</span><br><span class="line">	</span><br><span class="line">	obj.showName=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的名字叫：&apos;+this.name);</span><br><span class="line">	&#125;;</span><br><span class="line">	obj.showQQ=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的QQ号：&apos;+this.qq);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	return obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj=createPerson(&apos;blue&apos;, &apos;258248832&apos;);</span><br><span class="line"></span><br><span class="line">obj.showName();</span><br><span class="line">obj.showQQ();</span><br><span class="line"></span><br><span class="line">var obj2=createPerson(&apos;张三&apos;, &apos;45648979879&apos;);</span><br><span class="line"></span><br><span class="line">obj2.showName();</span><br><span class="line">obj2.showQQ();</span><br></pre></td></tr></table></figure>
<h2><span id="gong-han-fang-shi">工厂方式</span><a href="#gong-han-fang-shi" class="header-anchor">#</a></h2><h3><span id="shi-me-shi-gong-han">什么是工厂</span><a href="#shi-me-shi-gong-han" class="header-anchor">#</a></h3><ul>
<li>原料</li>
<li>加工</li>
<li>出厂</li>
</ul>
<h3><span id="gong-han-fang-shi">工厂方式</span><a href="#gong-han-fang-shi" class="header-anchor">#</a></h3><ul>
<li>用构造函数创建一个类</li>
<li>什么是类、对象（实例）：模具和零件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function createPerson(name, qq)		//构造函数</span><br><span class="line">&#123;</span><br><span class="line">	//原料</span><br><span class="line">	var obj=new Object();</span><br><span class="line">	</span><br><span class="line">	//加工</span><br><span class="line">	obj.name=name;</span><br><span class="line">	obj.qq=qq;</span><br><span class="line">	</span><br><span class="line">	obj.showName=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的名字叫：&apos;+this.name);</span><br><span class="line">	&#125;;</span><br><span class="line">	obj.showQQ=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的QQ号：&apos;+this.qq);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	//出厂</span><br><span class="line">	return obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj=createPerson(&apos;blue&apos;, &apos;258248832&apos;);</span><br><span class="line">var obj2=createPerson(&apos;张三&apos;, &apos;45648979879&apos;);</span><br><span class="line"></span><br><span class="line">alert(obj.showName==obj2.showName);</span><br></pre></td></tr></table></figure>
<h2><span id="gong-han-fang-shi-de-wen-ti">工厂方式的问题</span><a href="#gong-han-fang-shi-de-wen-ti" class="header-anchor">#</a></h2><h3><span id="wen-ti">问题</span><a href="#wen-ti" class="header-anchor">#</a></h3><ul>
<li>没有new</li>
<li>函数重复定义<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function createPerson(name, qq)		//构造函数</span><br><span class="line">&#123;</span><br><span class="line">	//原料</span><br><span class="line">	var obj=new Object();</span><br><span class="line">	</span><br><span class="line">	//加工</span><br><span class="line">	obj.name=name;</span><br><span class="line">	obj.qq=qq;</span><br><span class="line">	</span><br><span class="line">	obj.showName=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的名字叫：&apos;+this.name);</span><br><span class="line">	&#125;;</span><br><span class="line">	obj.showQQ=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的QQ号：&apos;+this.qq);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	//出厂</span><br><span class="line">	return obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj=createPerson(&apos;blue&apos;, &apos;258248832&apos;);</span><br><span class="line">var obj2=createPerson(&apos;张三&apos;, &apos;45648979879&apos;);</span><br><span class="line"></span><br><span class="line">alert(obj.showName==obj2.showName);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="jia-shang-new">加上new</span><a href="#jia-shang-new" class="header-anchor">#</a></h3><ul>
<li>偷偷做了两件事</li>
<li>替你创建了一个空白对象</li>
<li>替你返回了这个对象</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">function createPerson(name, qq)		//构造函数</span><br><span class="line">&#123;</span><br><span class="line">	//系统偷偷替咱们做：</span><br><span class="line">	//var this=new Object();</span><br><span class="line">	</span><br><span class="line">	//加工</span><br><span class="line">	this.name=name;</span><br><span class="line">	this.qq=qq;</span><br><span class="line">	</span><br><span class="line">	this.showName=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的名字叫：&apos;+this.name);</span><br><span class="line">	&#125;;</span><br><span class="line">	this.showQQ=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的QQ号：&apos;+this.qq);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	//也会偷偷做一些：</span><br><span class="line">	//return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj=new createPerson(&apos;blue&apos;, &apos;258248832&apos;);</span><br><span class="line">var obj2=new createPerson(&apos;张三&apos;, &apos;45648979879&apos;);   //new</span><br><span class="line"></span><br><span class="line">obj.showName();</span><br><span class="line">obj.showQQ();</span><br><span class="line">//alert(obj.showName==obj2.showName);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="yuan-xing-prototype">原型——prototype</span><a href="#yuan-xing-prototype" class="header-anchor">#</a></h2><h3><span id="shi-me-shi-yuan-xing">什么是原型</span><a href="#shi-me-shi-yuan-xing" class="header-anchor">#</a></h3><ul>
<li>原型是class，修改他可以影响一类元素</li>
<li>在已有对象中加入自己的属性、方法</li>
<li>原型修改对已有对象的影响</li>
</ul>
<h3><span id="wei-array-tian-jia-sum-fang-fa">为Array添加sum方法</span><a href="#wei-array-tian-jia-sum-fang-fa" class="header-anchor">#</a></h3><ul>
<li>给对象添加方法，类似于行间样式</li>
<li>给原型添加方法，类似于class</li>
</ul>
<h3><span id="yuan-xing-de-xiao-que-xian">原型的小缺陷</span><a href="#yuan-xing-de-xiao-que-xian" class="header-anchor">#</a></h3><ul>
<li>无法限制覆盖</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var arr1=new Array(12,55,34,78,676);</span><br><span class="line">var arr2=new Array(12,33, 1);</span><br><span class="line"></span><br><span class="line">Array.prototype.sum=function ()	//class</span><br><span class="line">//arr1.sum=function ()				//行间样式</span><br><span class="line">&#123;</span><br><span class="line">	var result=0;</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;this.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		result+=this[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	return result;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">alert(arr1.sum());</span><br><span class="line">alert(arr2.sum());	//?</span><br></pre></td></tr></table></figure>
<h2><span id="liu-xing-de-mian-xiang-dui-xiang-bian-xie-fang-shi">流行的面向对象编写方式</span><a href="#liu-xing-de-mian-xiang-dui-xiang-bian-xie-fang-shi" class="header-anchor">#</a></h2><h3><span id="yong-hun-he-fang-shi-gou-zao-dui-xiang">用混合方式构造对象</span><a href="#yong-hun-he-fang-shi-gou-zao-dui-xiang" class="header-anchor">#</a></h3><ul>
<li>混合的的构造函数/原型方式</li>
<li>Mixed Constructor Function/Prototype Method</li>
</ul>
<h3><span id="yuan-ze">原则</span><a href="#yuan-ze" class="header-anchor">#</a></h3><ul>
<li>构造函数：加属性</li>
<li>原型：加方法</li>
</ul>
<h3><span id="dui-xiang-ming-ming-gui-fan">对象命名规范</span><a href="#dui-xiang-ming-ming-gui-fan" class="header-anchor">#</a></h3><ul>
<li>类名首字母大写</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">function CreatePerson(name, qq)		//构造函数</span><br><span class="line">&#123;</span><br><span class="line">	this.name=name;</span><br><span class="line">	this.qq=qq;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CreatePerson.prototype.showName=function ()	//原型</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;我的名字叫：&apos;+this.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">CreatePerson.prototype.showQQ=function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;我的QQ号：&apos;+this.qq);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var obj=new CreatePerson(&apos;blue&apos;, &apos;258248832&apos;);</span><br><span class="line">var obj2=new CreatePerson(&apos;张三&apos;, &apos;45648979879&apos;);</span><br><span class="line"></span><br><span class="line">/*obj.showName();</span><br><span class="line">obj.showQQ();</span><br><span class="line"></span><br><span class="line">obj2.showName();</span><br><span class="line">obj2.showQQ();*/</span><br><span class="line">alert(obj.showName==obj2.showName);</span><br></pre></td></tr></table></figure>
<h1><span id="js-mian-xiang-dui-xiang-shi-li">JS面向对象实例</span><a href="#js-mian-xiang-dui-xiang-shi-li" class="header-anchor">#</a></h1><h2><span id="shi-li-mian-xiang-dui-xiang-de-xuan-xiang-qia">实例：面向对象的选项卡</span><a href="#shi-li-mian-xiang-dui-xiang-de-xuan-xiang-qia" class="header-anchor">#</a></h2><h3><span id="ba-mian-xiang-guo-cheng-de-cheng-xu-gai-xie-cheng-mian-xiang-dui-xiang-de-xing-shi">把面向过程的程序，改写成面向对象的形式</span><a href="#ba-mian-xiang-guo-cheng-de-cheng-xu-gai-xie-cheng-mian-xiang-dui-xiang-de-xing-shi" class="header-anchor">#</a></h3><h4><span id="yuan-ze">原则</span><a href="#yuan-ze" class="header-anchor">#</a></h4><ul>
<li>不能有函数套函数、但可以有全局变量</li>
</ul>
<h4><span id="guo-cheng">过程</span><a href="#guo-cheng" class="header-anchor">#</a></h4><ul>
<li>onload        →   构造函数</li>
<li>全局变量    →    属性</li>
<li>函数        →    方法</li>
</ul>
<h4><span id="gai-cuo">改错</span><a href="#gai-cuo" class="header-anchor">#</a></h4><ul>
<li>this、事件、闭包、传参</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">#div1 input &#123;background:white;&#125;</span><br><span class="line">#div1 input.active &#123;background:yellow;&#125;</span><br><span class="line">#div1 div &#123;width:200px; height:200px; background:#CCC; display:none;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	new TabSwitch(&apos;div1&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function TabSwitch(id)</span><br><span class="line">&#123;</span><br><span class="line">	var _this=this;</span><br><span class="line">	var oDiv=document.getElementById(id);</span><br><span class="line">	</span><br><span class="line">	this.aBtn=oDiv.getElementsByTagName(&apos;input&apos;);</span><br><span class="line">	this.aDiv=oDiv.getElementsByTagName(&apos;div&apos;);</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;this.aBtn.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		this.aBtn[i].index=i;</span><br><span class="line">		this.aBtn[i].onclick=function ()</span><br><span class="line">		&#123;</span><br><span class="line">			_this.fnClick(this);</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">TabSwitch.prototype.fnClick=function (oBtn)</span><br><span class="line">&#123;</span><br><span class="line">	//alert(this);</span><br><span class="line">	for(var i=0;i&lt;this.aBtn.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		this.aBtn[i].className=&apos;&apos;</span><br><span class="line">		this.aDiv[i].style.display=&apos;none&apos;;</span><br><span class="line">	&#125;</span><br><span class="line">	oBtn.className=&apos;active&apos;;</span><br><span class="line">	this.aDiv[oBtn.index].style.display=&apos;block&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;</span><br><span class="line">&lt;input class=&quot;active&quot; type=&quot;button&quot; value=&quot;aaa&quot; /&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;bbb&quot; /&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;ccc&quot; /&gt;</span><br><span class="line">&lt;div style=&quot;display:block;&quot;&gt;aaa&lt;/div&gt;</span><br><span class="line">&lt;div&gt;dfsadf&lt;/div&gt;</span><br><span class="line">&lt;div&gt;erwqerwe&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="dui-xiang-yu-bi-bao">对象与闭包</span><a href="#dui-xiang-yu-bi-bao" class="header-anchor">#</a></h3><p>有权访问另一个函数作用域内变量的函数都是闭包<br>通过闭包传递this</p>
<h1><span id="js-mian-xiang-dui-xiang-gao-ji">JS面向对象高级</span><a href="#js-mian-xiang-dui-xiang-gao-ji" class="header-anchor">#</a></h1><h2><span id="json-fang-shi-de-mian-xiang-dui-xiang">Json方式的面向对象</span><a href="#json-fang-shi-de-mian-xiang-dui-xiang" class="header-anchor">#</a></h2><h3><span id="ba-fang-fa-bao-zai-yi-ge-json-li">把方法包在一个Json里</span><a href="#ba-fang-fa-bao-zai-yi-ge-json-li" class="header-anchor">#</a></h3><ul>
<li>有人管他叫——命名空间</li>
<li>在公司里，把同一类方法，包在一起</li>
<li>不适合多个对象</li>
</ul>
<h4><span id="json-de-dui-xiang">Json的对象</span><a href="#json-de-dui-xiang" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">var json=&#123;</span><br><span class="line">	name: &apos;blue&apos;,</span><br><span class="line">	qq: &apos;258248832&apos;,</span><br><span class="line">	</span><br><span class="line">	showName: function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的名字叫：&apos;+this.name);</span><br><span class="line">	&#125;,</span><br><span class="line">	showQQ: function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的QQ号是：&apos;+this.qq);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var json2=&#123;</span><br><span class="line">	name: &apos;...&apos;,</span><br><span class="line">	qq: &apos;258248832&apos;,</span><br><span class="line">	</span><br><span class="line">	showName: function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的名字叫：&apos;+this.name);</span><br><span class="line">	&#125;,</span><br><span class="line">	showQQ: function ()</span><br><span class="line">	&#123;</span><br><span class="line">		alert(&apos;我的QQ号是：&apos;+this.qq);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">json.showName();</span><br><span class="line">json.showQQ();</span><br></pre></td></tr></table></figure>
<h4><span id="ming-ming-kong-jian">命名空间</span><a href="#ming-ming-kong-jian" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var zns=&#123;&#125;;</span><br><span class="line"></span><br><span class="line">zns.common=&#123;&#125;;</span><br><span class="line">zns.fx=&#123;&#125;;</span><br><span class="line">zns.site=&#123;&#125;;</span><br><span class="line"></span><br><span class="line">zns.common.getUser=function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;a&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">zns.fx.getUser=function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;b&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">zns.site.getUser=function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;c&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">zns.common.getUser();</span><br><span class="line">zns.fx.getUser();</span><br><span class="line">zns.site.getUser();</span><br></pre></td></tr></table></figure>
<h2><span id="tuo-zhuai-he-ji-cheng">拖拽和继承</span><a href="#tuo-zhuai-he-ji-cheng" class="header-anchor">#</a></h2><h3><span id="mian-xiang-dui-xiang-de-tuo-zhuai">面向对象的拖拽</span><a href="#mian-xiang-dui-xiang-de-tuo-zhuai" class="header-anchor">#</a></h3><ul>
<li>改写原有拖拽</li>
</ul>
<h3><span id="dui-xiang-de-ji-cheng">对象的继承</span><a href="#dui-xiang-de-ji-cheng" class="header-anchor">#</a></h3><ul>
<li>什么是继承<br> 在原有类的基础上，略作修改，得到一个新的类<br> 不影响原有类的功能</li>
</ul>
<h3><span id="instanceof-yun-suan-fu">instanceof运算符</span><a href="#instanceof-yun-suan-fu" class="header-anchor">#</a></h3><ul>
<li>查看对象是否是某个类的实例</li>
</ul>
<h3><span id="fu-lei">父类</span><a href="#fu-lei" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">function Drag(id)</span><br><span class="line">&#123;</span><br><span class="line">	var _this=this;</span><br><span class="line">	this.disX=0;</span><br><span class="line">	this.disY=0;</span><br><span class="line">	</span><br><span class="line">	this.oDiv=document.getElementById(id);</span><br><span class="line">	this.oDiv.onmousedown=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		_this.fnDown(ev);</span><br><span class="line">		</span><br><span class="line">		return false;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Drag.prototype.fnDown=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var _this=this;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	</span><br><span class="line">	this.disX=oEvent.clientX-this.oDiv.offsetLeft;</span><br><span class="line">	this.disY=oEvent.clientY-this.oDiv.offsetTop;</span><br><span class="line">	</span><br><span class="line">	document.onmousemove=function (ev)</span><br><span class="line">	&#123;</span><br><span class="line">		_this.fnMove(ev);</span><br><span class="line">	&#125;;</span><br><span class="line">	document.onmouseup=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		_this.fnUp();</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Drag.prototype.fnMove=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	</span><br><span class="line">	this.oDiv.style.left=oEvent.clientX-this.disX+&apos;px&apos;;</span><br><span class="line">	this.oDiv.style.top=oEvent.clientY-this.disY+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Drag.prototype.fnUp=function ()</span><br><span class="line">&#123;</span><br><span class="line">	document.onmousemove=null;</span><br><span class="line">	document.onmouseup=null;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3><span id="html-bu-fen">HTML部分</span><a href="#html-bu-fen" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:200px; height:200px; background:yellow; position:absolute;&#125;</span><br><span class="line">#div2 &#123;width:200px; height:200px; background:green; position:absolute;&#125;</span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;Drag.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;LimitDrag.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	new Drag(&apos;div1&apos;);</span><br><span class="line">	new LimitDrag(&apos;div2&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;普通拖拽&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;限制范围&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="shi-yong-ji-cheng">使用继承</span><a href="#shi-yong-ji-cheng" class="header-anchor">#</a></h2><h3><span id="xian-zhi-fan-wei-de-tuo-zhuai-lei">限制范围的拖拽类</span><a href="#xian-zhi-fan-wei-de-tuo-zhuai-lei" class="header-anchor">#</a></h3><h4><span id="ji-cheng-lei">继承类</span><a href="#ji-cheng-lei" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function LimitDrag(id)</span><br><span class="line">&#123;</span><br><span class="line">	Drag.call(this, id);	//继承属性</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for(var i in Drag.prototype)</span><br><span class="line">&#123;</span><br><span class="line">	LimitDrag.prototype[i]=Drag.prototype[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LimitDrag.prototype.fnMove=function (ev)</span><br><span class="line">&#123;</span><br><span class="line">	var oEvent=ev||event;</span><br><span class="line">	var l=oEvent.clientX-this.disX;</span><br><span class="line">	var t=oEvent.clientY-this.disY;</span><br><span class="line">	</span><br><span class="line">	if(l&lt;0)</span><br><span class="line">	&#123;</span><br><span class="line">		l=0;</span><br><span class="line">	&#125;</span><br><span class="line">	else if(l&gt;document.documentElement.clientWidth-this.oDiv.offsetWidth)</span><br><span class="line">	&#123;</span><br><span class="line">		l=document.documentElement.clientWidth-this.oDiv.offsetWidth;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	this.oDiv.style.left=l+&apos;px&apos;;</span><br><span class="line">	this.oDiv.style.top=t+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4><span id="gou-zao-han-shu-wei-zhuang">构造函数伪装</span><a href="#gou-zao-han-shu-wei-zhuang" class="header-anchor">#</a></h4><ul>
<li>属性的继承<br> 原理：欺骗构造函数</li>
<li>call的使用</li>
</ul>
<h5><span id="shu-xing-de-ji-cheng">属性的继承</span><a href="#shu-xing-de-ji-cheng" class="header-anchor">#</a></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function A()</span><br><span class="line">&#123;</span><br><span class="line">	this.abc=12;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//继承A</span><br><span class="line"></span><br><span class="line">function B()</span><br><span class="line">&#123;</span><br><span class="line">	//this-&gt;new B()</span><br><span class="line">	A.call(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="call-de-shi-yong">call的使用</span><a href="#call-de-shi-yong" class="header-anchor">#</a></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function show(a, b)</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;this是：&apos;+this+&apos;\na是：&apos;+a+&apos;\nb是：&apos;+b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//show(12, 5);</span><br><span class="line">show.call(&apos;abc&apos;, 12, 5);</span><br></pre></td></tr></table></figure>
<h4><span id="yuan-xing-lian">原型链</span><a href="#yuan-xing-lian" class="header-anchor">#</a></h4><ul>
<li>方法的继承<br> 原理：复制方法</li>
<li>覆盖原型和方法复制</li>
</ul>
<h5><span id="yin-yong">引用</span><a href="#yin-yong" class="header-anchor">#</a></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var arr1=[1,2,3];</span><br><span class="line">var arr2=arr1;</span><br><span class="line"></span><br><span class="line">arr2.push(4);</span><br><span class="line"></span><br><span class="line">alert(arr1);	//1,2,3,4</span><br><span class="line">alert(arr2);	//1,2,3,4</span><br></pre></td></tr></table></figure>
<h5><span id="fang-fa-de-ji-cheng">方法的继承</span><a href="#fang-fa-de-ji-cheng" class="header-anchor">#</a></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//继承父类方法</span><br><span class="line">for(var i in A.prototype)</span><br><span class="line">&#123;</span><br><span class="line">	B.prototype[i]=A.prototype[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//自己的方法</span><br><span class="line">B.prototype.fn=function ()</span><br><span class="line">&#123;</span><br><span class="line">	alert(&apos;abc&apos;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2><span id="xi-tong-dui-xiang">系统对象</span><a href="#xi-tong-dui-xiang" class="header-anchor">#</a></h2><h3><span id="ben-di-dui-xiang-fei-jing-tai-dui-xiang">本地对象（非静态对象）</span><a href="#ben-di-dui-xiang-fei-jing-tai-dui-xiang" class="header-anchor">#</a></h3><ul>
<li>什么是本地对象，需要实例化（new）</li>
<li>常用对象<br> Object、Function、Array、String、Boolean、Number、Date、RegExp、Error<h3><span id="nei-zhi-dui-xiang-jing-tai-dui-xiang">内置对象（静态对象）</span><a href="#nei-zhi-dui-xiang-jing-tai-dui-xiang" class="header-anchor">#</a></h3></li>
<li>什么是本地对象<br> Global、Math<h3><span id="su-zhu-dui-xiang-you-liu-lan-qi-ti-gong-de-dui-xiang">宿主对象（由浏览器提供的对象）</span><a href="#su-zhu-dui-xiang-you-liu-lan-qi-ti-gong-de-dui-xiang" class="header-anchor">#</a></h3></li>
<li>DOM、BOM</li>
</ul>
<h1><span id="bom-ying-yong">BOM应用</span><a href="#bom-ying-yong" class="header-anchor">#</a></h1><h2><span id="bom-ji-chu">BOM基础</span><a href="#bom-ji-chu" class="header-anchor">#</a></h2><h3><span id="da-kai-guan-bi-chuang-kou">打开、关闭窗口</span><a href="#da-kai-guan-bi-chuang-kou" class="header-anchor">#</a></h3><h4><span id="open">open</span><a href="#open" class="header-anchor">#</a></h4><ul>
<li>window.open(‘url’,’_blank’)</li>
<li>window.open有返回值，返回值就是打开的页面</li>
</ul>
<h5><span id="li-zi-yun-xing">例子：运行</span><a href="#li-zi-yun-xing" class="header-anchor">#</a></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTxt=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var oNewWin=window.open(&apos;about:blank&apos;, &apos;_blank&apos;);</span><br><span class="line">		</span><br><span class="line">		oNewWin.document.write(oTxt.value);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4><span id="close">close</span><a href="#close" class="header-anchor">#</a></h4><ul>
<li>关闭时提示问题</li>
<li>火狐里不能不用close关闭非open的窗口<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.close()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="chang-yong-shu-xing">常用属性</span><a href="#chang-yong-shu-xing" class="header-anchor">#</a></h3><ul>
<li>window.navigator.userAgent           //当前浏览器版本信息</li>
<li>window.location                      //当前页面的地址，可读取还可赋值</li>
</ul>
<h4><span id="window-location">window.location</span><a href="#window-location" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.location=&apos;http://www.uknow.top&apos;</span><br></pre></td></tr></table></figure>
<h2><span id="chi-cun-ji-zuo-biao">尺寸及坐标</span><a href="#chi-cun-ji-zuo-biao" class="header-anchor">#</a></h2><h3><span id="chuang-kou-chi-cun-gong-zuo-qu-chi-cun">窗口尺寸、工作区尺寸</span><a href="#chuang-kou-chi-cun-gong-zuo-qu-chi-cun" class="header-anchor">#</a></h3><h3><span id="ke-shi-qu-chi-cun">可视区尺寸</span><a href="#ke-shi-qu-chi-cun" class="header-anchor">#</a></h3><ul>
<li>仅跟窗口大小有关</li>
<li>document.documentElement.clientWidth</li>
<li>document.documentElement.clientHeight</li>
</ul>
<h3><span id="gun-dong-ju-chi">滚动距离</span><a href="#gun-dong-ju-chi" class="header-anchor">#</a></h3><ul>
<li>随着滚动距离变大</li>
<li>document.body.scrollTop</li>
<li>document.documentElement.scrollTop</li>
</ul>
<h4><span id="jian-rong-xie-fa">兼容写法</span><a href="#jian-rong-xie-fa" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">document.onclick=function ()</span><br><span class="line">&#123;</span><br><span class="line">	//IE、FF</span><br><span class="line">	//alert(document.documentElement.scrollTop);</span><br><span class="line">	</span><br><span class="line">	//chrome</span><br><span class="line">	//alert(document.body.scrollTop);</span><br><span class="line">	</span><br><span class="line">	var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;</span><br><span class="line">	</span><br><span class="line">	alert(scrollTop);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2><span id="chang-yong-fang-fa-he-shi-jian">常用方法和事件</span><a href="#chang-yong-fang-fa-he-shi-jian" class="header-anchor">#</a></h2><h3><span id="xi-tong-dui-hua-kuang">系统对话框</span><a href="#xi-tong-dui-hua-kuang" class="header-anchor">#</a></h3><ul>
<li>警告框：alert(“内容”)，没有返回值</li>
<li>选择框：confirm(“提问的内容”)，返回boolean</li>
<li>输入框：prompt()，返回字符串或null</li>
</ul>
<h4><span id="xuan-ze-kuang-confirm">选择框：confirm</span><a href="#xuan-ze-kuang-confirm" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var res=confirm(&apos;你是否要删除&apos;);</span><br><span class="line"></span><br><span class="line">alert(res);</span><br></pre></td></tr></table></figure>
<h4><span id="shu-ru-kuang-prompt">输入框：prompt</span><a href="#shu-ru-kuang-prompt" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var res=prompt(&apos;请输入你的姓名&apos;, &apos;blue&apos;);</span><br><span class="line"></span><br><span class="line">alert(res);</span><br></pre></td></tr></table></figure>
<h3><span id="window-dui-xiang-chang-yong-shi-jian">window对象常用事件</span><a href="#window-dui-xiang-chang-yong-shi-jian" class="header-anchor">#</a></h3><ul>
<li>onload   </li>
<li>onscroll  //当滚动时事件发生</li>
<li>onresize  //当改变时事件发生</li>
</ul>
<h4><span id="li-zi-hui-dao-ding-bu-an-niu-ce-bian-lan-guang-gao">例子：回到顶部按钮、侧边栏广告</span><a href="#li-zi-hui-dao-ding-bu-an-niu-ce-bian-lan-guang-gao" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#div1 &#123;width:200px; height:150px; background:red; position:absolute; right:0; bottom:0;&#125;</span><br><span class="line">body &#123;height:2000px;&#125;</span><br><span class="line"></span><br><span class="line">window.onscroll=window.onresize=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;</span><br><span class="line">	var oDiv=document.getElementById(&apos;div1&apos;);</span><br><span class="line">	</span><br><span class="line">	oDiv.style.top=document.documentElement.clientHeight-oDiv.offsetHeight+scrollTop+&apos;px&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h4><span id="shan-shuo-wen-ti">闪烁问题</span><a href="#shan-shuo-wen-ti" class="header-anchor">#</a></h4><ul>
<li>userAgent&gt;IE6  —&gt;    fixed</li>
<li>IE             —&gt;    运动</li>
</ul>
<h1><span id="cookie-ji-chu-yu-ying-yong">COOKIE基础与应用</span><a href="#cookie-ji-chu-yu-ying-yong" class="header-anchor">#</a></h1><h2><span id="cookie-ji-chu">cookie基础</span><a href="#cookie-ji-chu" class="header-anchor">#</a></h2><h3><span id="shi-me-shi-cookie">什么是cookie</span><a href="#shi-me-shi-cookie" class="header-anchor">#</a></h3><h4><span id="ye-mian-yong-lai-bao-cun-xin-xi">页面用来保存信息</span><a href="#ye-mian-yong-lai-bao-cun-xin-xi" class="header-anchor">#</a></h4><ul>
<li>比如：自动登录、记住用户名</li>
</ul>
<h4><span id="cookie-de-te-xing">cookie的特性</span><a href="#cookie-de-te-xing" class="header-anchor">#</a></h4><ul>
<li>同一个网站中所有页面共享一套cookie</li>
<li>数量、大小有限</li>
<li>过期时间</li>
</ul>
<h4><span id="js-zhong-shi-yong-cookie">JS中使用cookie</span><a href="#js-zhong-shi-yong-cookie" class="header-anchor">#</a></h4><ul>
<li><p>document.cookie</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.cookie=&apos;user=blue&apos;;		//添加</span><br><span class="line">document.cookie=&apos;pass=123456&apos;;</span><br><span class="line"></span><br><span class="line">alert(document.cookie);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Date()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var oDate=new Date();</span><br><span class="line"></span><br><span class="line">oDate.setDate(oDate.getDate()+800000);</span><br><span class="line"></span><br><span class="line">alert(oDate.getFullYear()+&apos;-&apos;+(oDate.getMonth()+1)+&apos;-&apos;+oDate.getDate());</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="shi-yong-cookie-1">使用cookie - 1</span><a href="#shi-yong-cookie-1" class="header-anchor">#</a></h2><h3><span id="cookie-de-shi-yong">cookie的使用</span><a href="#cookie-de-shi-yong" class="header-anchor">#</a></h3><h4><span id="she-zhi-cookie">设置cookie</span><a href="#she-zhi-cookie" class="header-anchor">#</a></h4><ul>
<li>格式：名字=值</li>
<li>不会覆盖</li>
<li>过期时间：expires=时间<br> 日期对象的使用</li>
<li>封装函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function setCookie(name, value, iDay)</span><br><span class="line">&#123;</span><br><span class="line">	var oDate=new Date();</span><br><span class="line">	oDate.setDate(oDate.getDate()+iDay);</span><br><span class="line">	</span><br><span class="line">	document.cookie=name+&apos;=&apos;+value+&apos;;expires=&apos;+oDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="du-qu-cookie">读取cookie</span><a href="#du-qu-cookie" class="header-anchor">#</a></h4><ul>
<li>字符串分割</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function getCookie(name)</span><br><span class="line">&#123;</span><br><span class="line">	var arr=document.cookie.split(&apos;; &apos;);</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;arr.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		var arr2=arr[i].split(&apos;=&apos;);</span><br><span class="line">		</span><br><span class="line">		if(arr2[0]==name)</span><br><span class="line">		&#123;</span><br><span class="line">			return arr2[1];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	return &apos;&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="shan-chu-cookie">删除cookie</span><a href="#shan-chu-cookie" class="header-anchor">#</a></h4><ul>
<li>已经过期</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function removeCookie(name)</span><br><span class="line">&#123;</span><br><span class="line">	setCookie(name, 1, -1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="feng-zhuang-han-shu">封装函数</span><a href="#feng-zhuang-han-shu" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">function setCookie(name, value, iDay)</span><br><span class="line">&#123;</span><br><span class="line">	var oDate=new Date();</span><br><span class="line">	oDate.setDate(oDate.getDate()+iDay);</span><br><span class="line">	</span><br><span class="line">	document.cookie=name+&apos;=&apos;+value+&apos;;expires=&apos;+oDate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getCookie(name)</span><br><span class="line">&#123;</span><br><span class="line">	var arr=document.cookie.split(&apos;; &apos;);</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;arr.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		var arr2=arr[i].split(&apos;=&apos;);</span><br><span class="line">		</span><br><span class="line">		if(arr2[0]==name)</span><br><span class="line">		&#123;</span><br><span class="line">			return arr2[1];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	return &apos;&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function removeCookie(name)</span><br><span class="line">&#123;</span><br><span class="line">	setCookie(name, 1, -1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*setCookie(&apos;userName&apos;, &apos;dancingblue&apos;, 365);</span><br><span class="line">setCookie(&apos;password&apos;, &apos;123456&apos;, 14);*/</span><br><span class="line"></span><br><span class="line">//alert(document.cookie);</span><br><span class="line">//alert(getCookie(&apos;sex&apos;));</span><br><span class="line">removeCookie(&apos;password&apos;);</span><br><span class="line">alert(document.cookie);</span><br></pre></td></tr></table></figure>
<h2><span id="shi-yong-cookie-2">使用cookie - 2</span><a href="#shi-yong-cookie-2" class="header-anchor">#</a></h2><h3><span id="cookie-de-shi-yong">cookie的使用</span><a href="#cookie-de-shi-yong" class="header-anchor">#</a></h3><h4><span id="li-zi">例子</span><a href="#li-zi" class="header-anchor">#</a></h4><p>用cookie记录上次登录的用户名</p>
<ul>
<li>提交时——记录用户名</li>
<li>window.onload——读取用户名</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">function setCookie(name, value, iDay)</span><br><span class="line">&#123;</span><br><span class="line">	var oDate=new Date();</span><br><span class="line">	oDate.setDate(oDate.getDate()+iDay);</span><br><span class="line">	</span><br><span class="line">	document.cookie=name+&apos;=&apos;+value+&apos;;expires=&apos;+oDate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getCookie(name)</span><br><span class="line">&#123;</span><br><span class="line">	var arr=document.cookie.split(&apos;; &apos;);</span><br><span class="line">	</span><br><span class="line">	for(var i=0;i&lt;arr.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		var arr2=arr[i].split(&apos;=&apos;);</span><br><span class="line">		</span><br><span class="line">		if(arr2[0]==name)</span><br><span class="line">		&#123;</span><br><span class="line">			return arr2[1];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	return &apos;&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function removeCookie(name)</span><br><span class="line">&#123;</span><br><span class="line">	setCookie(name, 1, -1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oForm=document.getElementById(&apos;form1&apos;);</span><br><span class="line">	var oUser=document.getElementsByName(&apos;user&apos;)[0];</span><br><span class="line">	</span><br><span class="line">	oForm.onsubmit=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		setCookie(&apos;user&apos;, oUser.value, 14);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	oUser.value=getCookie(&apos;user&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;1form id=&quot;form1&quot; action=&quot;http://www.zhinengshe.com/&quot;&gt;</span><br><span class="line">	用户名：&lt;input type=&quot;text&quot; name=&quot;user&quot; /&gt;&lt;br&gt;</span><br><span class="line">    密码：&lt;input type=&quot;password&quot; name=&quot;pass&quot; /&gt;&lt;br&gt;</span><br><span class="line">	&lt;input type=&quot;submit&quot; value=&quot;登陆&quot; /&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<h1><span id="js-zhong-de-zheng-ze-biao-da-shi">JS中的正则表达式</span><a href="#js-zhong-de-zheng-ze-biao-da-shi" class="header-anchor">#</a></h1><h2><span id="zheng-ze-biao-da-shi-ji-chu-1">正则表达式基础 - 1</span><a href="#zheng-ze-biao-da-shi-ji-chu-1" class="header-anchor">#</a></h2><h3><span id="fu-xi-zi-fu-chuan-cao-zuo">复习字符串操作</span><a href="#fu-xi-zi-fu-chuan-cao-zuo" class="header-anchor">#</a></h3><ul>
<li>search            查找</li>
<li>substring        获取子字符串</li>
<li>charAt            获取某个字符</li>
<li>split            分割字符串，获得数组</li>
</ul>
<h4><span id="search">search</span><a href="#search" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;abcdef&apos;;</span><br><span class="line"></span><br><span class="line">alert(str.search(&apos;u&apos;));		//位置, -1</span><br></pre></td></tr></table></figure>
<h4><span id="substring">substring</span><a href="#substring" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;abcdef&apos;;</span><br><span class="line"></span><br><span class="line">//alert(str.substring(2, 5));	//不包括结束位置</span><br><span class="line">alert(str.substring(1));</span><br></pre></td></tr></table></figure>
<h4><span id="charat">charAt</span><a href="#charat" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;abcdef&apos;;</span><br><span class="line"></span><br><span class="line">alert(str.charAt(0));</span><br></pre></td></tr></table></figure>
<h3><span id="split">split</span><a href="#split" class="header-anchor">#</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;12-56-aaa-89&apos;;</span><br><span class="line">var arr=str.split(&apos;-&apos;);</span><br><span class="line"></span><br><span class="line">alert(arr)</span><br></pre></td></tr></table></figure>
<h3><span id="zhao-chu-zi-fu-chuan-zhong-de-suo-you-shu-zi">找出字符串中的所有数字</span><a href="#zhao-chu-zi-fu-chuan-zhong-de-suo-you-shu-zi" class="header-anchor">#</a></h3><ul>
<li>用传统字符串操作完成</li>
<li>用正则表达式完成</li>
</ul>
<h4><span id="chuan-tong-cao-zuo">传统操作</span><a href="#chuan-tong-cao-zuo" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;12 fff 87 er334 233 -=-=fa80&apos;;</span><br><span class="line">var arr=[];</span><br><span class="line">var tmp=&apos;&apos;;</span><br><span class="line"></span><br><span class="line">for(var i=0;i&lt;str.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">	if(str.charAt(i)&gt;=&apos;0&apos; &amp;&amp; str.charAt(i)&lt;=&apos;9&apos;)</span><br><span class="line">	&#123;</span><br><span class="line">		tmp+=str.charAt(i);</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		if(tmp)</span><br><span class="line">		&#123;</span><br><span class="line">			arr.push(tmp);</span><br><span class="line">			tmp=&apos;&apos;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(tmp)</span><br><span class="line">&#123;</span><br><span class="line">	arr.push(tmp);</span><br><span class="line">	tmp=&apos;&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(arr);</span><br></pre></td></tr></table></figure>
<h4><span id="zheng-ze-cao-zuo">正则操作</span><a href="#zheng-ze-cao-zuo" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;12 fff 87 er334 233 -=-=fa80&apos;;</span><br><span class="line"></span><br><span class="line">alert(str.match(/\d+/g));</span><br></pre></td></tr></table></figure>
<h2><span id="zheng-ze-biao-da-shi-ji-chu-2">正则表达式基础 - 2</span><a href="#zheng-ze-biao-da-shi-ji-chu-2" class="header-anchor">#</a></h2><h3><span id="shi-me-shi-zheng-ze-biao-da-shi">什么是正则表达式</span><a href="#shi-me-shi-zheng-ze-biao-da-shi" class="header-anchor">#</a></h3><ul>
<li>什么叫“正则”<br> 规则、模式</li>
<li>强大的字符串匹配工具</li>
<li>是一种正常人类很难读懂的文字</li>
<li>RegExp对象<br> JS风格——new RegExp(“a”, “i”)<br> perl风格——/a/i</li>
</ul>
<h4><span id="js-feng-ge">JS风格</span><a href="#js-feng-ge" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var re=new RegExp(&apos;b&apos;, &apos;i&apos;);  //i 忽略大小写</span><br><span class="line">var str=&apos;abcdef&apos;;</span><br><span class="line"></span><br><span class="line">alert(str.search(re));</span><br></pre></td></tr></table></figure>
<h4><span id="perl-feng-ge">perl风格</span><a href="#perl-feng-ge" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var re=/a/i;</span><br><span class="line">var str=&apos;abcdef&apos;;</span><br><span class="line"></span><br><span class="line">alert(str.search(re));</span><br></pre></td></tr></table></figure>
<h2><span id="zi-fu-chuan-yu-zheng-ze-pei-he-1">字符串与正则配合 - 1</span><a href="#zi-fu-chuan-yu-zheng-ze-pei-he-1" class="header-anchor">#</a></h2><h3><span id="search">search</span><a href="#search" class="header-anchor">#</a></h3><h4><span id="zi-fu-chuan-sou-suo">字符串搜索</span><a href="#zi-fu-chuan-sou-suo" class="header-anchor">#</a></h4><ul>
<li>返回出现的位置</li>
<li>忽略大小写：i——ignore</li>
<li>判断浏览器类型</li>
</ul>
<h3><span id="match">match</span><a href="#match" class="header-anchor">#</a></h3><h3><span id="huo-qu-pi-pei-de-xiang-mu">获取匹配的项目</span><a href="#huo-qu-pi-pei-de-xiang-mu" class="header-anchor">#</a></h3><ul>
<li>量词：+</li>
<li>量词变化：\d、\d\d和\d+</li>
<li>全局匹配：g——global</li>
<li>例子：找出所有数字</li>
</ul>
<h4><span id="li-zi-zhao-chu-suo-you-shu-zi">例子：找出所有数字</span><a href="#li-zi-zhao-chu-suo-you-shu-zi" class="header-anchor">#</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;asdf 34 656 cvs33&apos;;</span><br><span class="line">var re=/\d+/g;</span><br><span class="line"></span><br><span class="line">alert(str.match(re));</span><br></pre></td></tr></table></figure>
<h2><span id="zi-fu-chuan-yu-zheng-ze-pei-he-2">字符串与正则配合 - 2</span><a href="#zi-fu-chuan-yu-zheng-ze-pei-he-2" class="header-anchor">#</a></h2><h3><span id="replace">replace</span><a href="#replace" class="header-anchor">#</a></h3><h4><span id="ti-huan-suo-you-pi-pei">替换所有匹配</span><a href="#ti-huan-suo-you-pi-pei" class="header-anchor">#</a></h4><ul>
<li>返回替换后的字符串</li>
<li>例子：敏感词过滤<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var str=&apos;abc aaa erw&apos;;</span><br><span class="line">var re=/a/g;</span><br><span class="line"></span><br><span class="line">alert(str.replace(re, &apos;0&apos;));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2><span id="zi-fu-chuan-1">字符串 - 1</span><a href="#zi-fu-chuan-1" class="header-anchor">#</a></h2><h3><span id="ren-yi-zi-fu">任意字符</span><a href="#ren-yi-zi-fu" class="header-anchor">#</a></h3><ul>
<li>[abc]    或<br> 例子：o[usb]t——obt、ost、out</li>
</ul>
<h3><span id="fan-wei">范围</span><a href="#fan-wei" class="header-anchor">#</a></h3><ul>
<li>[a-z]、[0-9]<br>  例子：id[0-9]——id0、id5</li>
</ul>
<h3><span id="pai-chu">排除</span><a href="#pai-chu" class="header-anchor">#</a></h3><ul>
<li>[^a]<br>   例子：o[^0-9]t——oat、o?t、o t</li>
</ul>
<h2><span id="zi-fu-chuan-2">字符串 - 2</span><a href="#zi-fu-chuan-2" class="header-anchor">#</a></h2><h3><span id="zu-he">组合</span><a href="#zu-he" class="header-anchor">#</a></h3><ul>
<li>[a-z0-9A-Z]</li>
</ul>
<h3><span id="shi-li-tou-xiao-shuo">实例：偷小说</span><a href="#shi-li-tou-xiao-shuo" class="header-anchor">#</a></h3><ul>
<li>过滤HTML标签<br>   自定义innerText方法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">window.onload=function ()</span><br><span class="line">&#123;</span><br><span class="line">	var oTxt1=document.getElementById(&apos;txt1&apos;);</span><br><span class="line">	var oTxt2=document.getElementById(&apos;txt2&apos;);</span><br><span class="line">	var oBtn=document.getElementById(&apos;btn1&apos;);</span><br><span class="line">	</span><br><span class="line">	oBtn.onclick=function ()</span><br><span class="line">	&#123;</span><br><span class="line">		var re=/&lt;[^&lt;&gt;]+&gt;/g;</span><br><span class="line">		</span><br><span class="line">		oTxt2.value=oTxt1.value.replace(re, &apos;&apos;);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;textarea id=&quot;txt1&quot; rows=&quot;10&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;&lt;br&gt;</span><br><span class="line">&lt;input id=&quot;btn1&quot; type=&quot;button&quot; value=&quot;转换&quot; /&gt;&lt;br&gt;</span><br><span class="line">&lt;textarea id=&quot;txt2&quot; rows=&quot;10&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3><span id="zhuan-yi-zi-fu">转义字符</span><a href="#zhuan-yi-zi-fu" class="header-anchor">#</a></h3><ul>
<li>.（点）——任意字符</li>
<li>\d(数字)、\w(英文、数字、下划线)、\s(空白字符)      </li>
<li>\D(除了数字)、\W(除了英文、数字、下划线)、\S(除了空白字符)</li>
</ul>
<h2><span id="liang-ci">量词</span><a href="#liang-ci" class="header-anchor">#</a></h2><h3><span id="shi-me-shi-liang-ci">什么是量词</span><a href="#shi-me-shi-liang-ci" class="header-anchor">#</a></h3><ul>
<li>{n}出现的次数</li>
<li>{n,m}，至少出现n次，最多m次</li>
<li>{n，}  最少n次，最多不限</li>
<li>例子：查找QQ号  [1-9]\d{4,10}</li>
<li>例子：固定电话    (0\d{2,3}-)?[1-9]\d{7}   ?表示前面可以有可以没有</li>
</ul>
<h3><span id="chang-yong-liang-ci">常用量词</span><a href="#chang-yong-liang-ci" class="header-anchor">#</a></h3><ul>
<li>{n,}    至少n次</li>
<li>×        任意次    {0,}</li>
<li>？    零次或一次    {0,1}</li>
<li>＋    一次或任意次{1,}</li>
<li>{n}    正好n次</li>
</ul>
<h2><span id="chang-yong-zheng-ze-li-zi">常用正则例子</span><a href="#chang-yong-zheng-ze-li-zi" class="header-anchor">#</a></h2><h3><span id="biao-dan-xiao-yan-shi-li">表单校验实例</span><a href="#biao-dan-xiao-yan-shi-li" class="header-anchor">#</a></h3><ul>
<li>校验邮箱<br>   行首(^)、行尾($)</li>
<li>test 只要一部分符合要求就返回ture        </li>
</ul>
<pre><code>window.onload=function ()
{
    var oTxt=document.getElementById(&apos;txt1&apos;);
    var oBtn=document.getElementById(&apos;btn1&apos;);

    oBtn.onclick=function ()
    {
        var re=/^\w+@[a-z0-9]+\.[a-z]+$/i;

        if(re.test(oTxt.value))
        {
            alert(&apos;合法的邮箱&apos;);
        }
        else
        {
            alert(&apos;你丫写错了&apos;);
        }
    };
};


&lt;1input type=&quot;text&quot; id=&quot;txt1&quot; /&gt;
&lt;1input type=&quot;button&quot; value=&quot;校验&quot; id=&quot;btn1&quot; /&gt;
</code></pre></div></article></div></section><footer><div class="paginator"><a href="/posts/notes/安全牛：网络渗透与深度防御整理笔记.html" class="prev">PREV</a><a href="/posts/skill/如何在Github-Pages搭建自己写的页面？.html" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2019 <a href="https://uknowsec.cn">uknow</a>  Stay hungry,Stay foolish.</p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-115504647-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?225ebcce29d319519ac7c7690425d1d4";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>