<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 正方教务系统验证码识别 · Uknow - Stay hungry Stay foolish</title><meta name="description" content="正方教务系统验证码识别 - uknow"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/2.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div id="mask" style="display: none;"><img id="mask-image" src="#" style=" "></div><div class="wrap"><header><a href="/" class="logo-link"><img src="/2.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">Archive</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="https://github.com/uknowsec" target="_blank" class="nav-list-link">GitHub</a></li><li class="nav-list-item"><a href="http://weibo.com/uknowsec" target="_blank" class="nav-list-link">Weibo</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">正方教务系统验证码识别</h1><div class="post-time">Apr 19, 2018</div><div class="post-content"><h2 id="验证码预处理"><a href="#验证码预处理" class="headerlink" title="验证码预处理"></a>验证码预处理</h2><h3 id="下载验证码"><a href="#下载验证码" class="headerlink" title="下载验证码"></a>下载验证码</h3><h4 id="实现代码："><a href="#实现代码：" class="headerlink" title="实现代码："></a>实现代码：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_checkcode(i):</span><br><span class="line">    r = requests.get(&apos;http://jwsys.ctbu.edu.cn/CheckCode.aspx?&apos;)</span><br><span class="line">    picname = str(i) + &apos;.png&apos;</span><br><span class="line">    with open(&apos;image\\&apos; + picname, &apos;wb&apos;) as f:</span><br><span class="line">        f.write(r.content)</span><br><span class="line">        print(&quot;downloading code %d.png&quot; % i,)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    for i in range(1, 1000):</span><br><span class="line">        get_checkcode(i)</span><br></pre></td></tr></table></figure>
<h4 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h4><ul>
<li>利用requests库里的get方法访问生成验证码页面，并保存验证码图片到本地。</li>
</ul>
<h4 id="代码测试："><a href="#代码测试：" class="headerlink" title="代码测试："></a>代码测试：</h4><p><img src="http://obr4sfdq7.bkt.clouddn.com/QQ截图20180418133234.png" alt="Alt text"></p>
<h3 id="灰度化、分割"><a href="#灰度化、分割" class="headerlink" title="灰度化、分割"></a>灰度化、分割</h3><h4 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from PIL import Image, ImageTk, ImageFilter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_checkcode(i):</span><br><span class="line">    r = requests.get(&apos;http://jwjx.njit.edu.cn/CheckCode.aspx?&apos;)</span><br><span class="line">    picname = str(i) + &apos;.png&apos;</span><br><span class="line">    with open(&apos;image\\&apos; + picname, &apos;wb&apos;) as f:</span><br><span class="line">        f.write(r.content)</span><br><span class="line">        print(&quot;downloading code %d.png&quot; % i,)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def process_pic(i):</span><br><span class="line">    picname = str(i) + &apos;.png&apos;</span><br><span class="line">    im = Image.open(&apos;image\\&apos; + picname)</span><br><span class="line">    im = im.point(lambda i: i &gt; 43, mode=&apos;1&apos;)</span><br><span class="line">    im.save(picname)</span><br><span class="line">    y_min, y_max = 0, 22  # im.height - 1 # 26</span><br><span class="line">    split_lines = [5, 17, 29, 41, 53]</span><br><span class="line">    ims = [im.crop([u, y_min, v, y_max])</span><br><span class="line">           for u, v in zip(split_lines[:-1], split_lines[1:])]</span><br><span class="line">    return ims</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    for i in range(1, 5):</span><br><span class="line">        get_checkcode(i)</span><br><span class="line">        ims = process_pic(i)</span><br><span class="line">        print(&quot;saving code %d.png cutted&quot; % i)</span><br><span class="line">        for j in range(0, 4):</span><br><span class="line">            ims[j].save(str(i) + &apos;_&apos; + str(j) + &apos;.png&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="代码分析-1"><a href="#代码分析-1" class="headerlink" title="代码分析"></a>代码分析</h4><ul>
<li><p>point()方法通过一个函数或者查询表对图像中的像素点进行处理，<code>im = im.point(lambda i: i &gt; 43, mode=&#39;1&#39;)</code><br>中<code>lambda i</code>遍历整张图片，<code>43</code>是一个阀值，大于<code>43</code>填充为<code>1</code>，小于<code>43</code>填充为<code>0</code>，<code>mode=&#39;1&#39;</code>的意思是输出模式为整数型，由此实现灰度化。</p>
</li>
<li><p><code>y_min, y_max = 0, 22</code>设定验证码图片中最大的y值和最小的y值。</p>
</li>
<li><p><code>zip(split_lines[:-1], split_lines[1:])</code> 运行结果为<code>[(5,17),(17,29),(29,41),(41,53)]</code></p>
</li>
<li><p><code>im.crop([u, y_min, v, y_max])</code> ，<code>crop()</code>函数为用来复制一个图片里的一矩形内容，传入参数为矩形的四条边。</p>
</li>
<li><p>所以通过以上的<code>crop()</code>函数实现图片的分割。</p>
</li>
</ul>
<h4 id="代码测试"><a href="#代码测试" class="headerlink" title="代码测试"></a>代码测试</h4><p><img src="http://obr4sfdq7.bkt.clouddn.com/QQ截图20180418142427.png" alt="Alt text"></p>
<h3 id="标识"><a href="#标识" class="headerlink" title="标识"></a>标识</h3><h4 id="代码分析-2"><a href="#代码分析-2" class="headerlink" title="代码分析"></a>代码分析</h4><ul>
<li>利用Python的图形开发界面的库<code>tkinter</code>将验证码图片显示在一个图形化的界面，供人工标识验证码。</li>
<li><code>resize()</code>函数将爬虫爬取的验证码放大，利于辨别。</li>
<li><code>display_pic()</code>函数中<code>tk.PhotoImage()</code>方法插入图片。</li>
</ul>
<h4 id="实现代码-1"><a href="#实现代码-1" class="headerlink" title="实现代码"></a>实现代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">def get_pic_for_display(i):</span><br><span class="line">    picname = str(i) + &apos;.png&apos;</span><br><span class="line">    im = Image.open(picname)</span><br><span class="line">    w, h = im.size</span><br><span class="line">    w_box = 300</span><br><span class="line">    h_box = 200</span><br><span class="line">    im_resized = resize(w, h, w_box, h_box, im)</span><br><span class="line">    tk_image = ImageTk.PhotoImage(im_resized)</span><br><span class="line">    return tk_image</span><br><span class="line"></span><br><span class="line">def resize(w, h, w_box, h_box, pil_image):</span><br><span class="line">    f1 = w_box / w</span><br><span class="line">    f2 = h_box / h</span><br><span class="line">    factor = min([f1, f2])</span><br><span class="line">    width = int(w * factor)</span><br><span class="line">    height = int(h * factor)</span><br><span class="line">    return pil_image.resize((width, height), Image.ANTIALIAS)</span><br><span class="line"></span><br><span class="line">def display_pic():</span><br><span class="line">    global im</span><br><span class="line">    tmp = get_cnt() + 1</span><br><span class="line">    get_checkcode(tmp)</span><br><span class="line">    im = tk.PhotoImage(file= str(tmp)+&apos;.png&apos;)</span><br><span class="line">    im = get_pic_for_display(tmp)</span><br><span class="line">    picLabel[&apos;image&apos;] = im</span><br><span class="line">    cntLabel[&apos;text&apos;] = &apos;总计: &apos; + str(tmp-1) + &apos;/1000&apos;</span><br></pre></td></tr></table></figure>
<h4 id="代码测试-1"><a href="#代码测试-1" class="headerlink" title="代码测试"></a>代码测试</h4><p><img src="http://obr4sfdq7.bkt.clouddn.com/QQ截图20180419122240.png" alt="Alt text"></p>
<h3 id="归类"><a href="#归类" class="headerlink" title="归类"></a>归类</h3><h4 id="代码分析-3"><a href="#代码分析-3" class="headerlink" title="代码分析"></a>代码分析</h4><ul>
<li><code>code = var.get()</code>获取图形化界面输入的验证码的值，其类型是一个数组，其中存着四个字符。</li>
<li><code>for i in range(4):</code>遍历四个字符，判断输入的字符值将他们保存到<code>set\</code>目录下相应的字符。其中<code>path = os.path.join(BASE_DIR, &#39;sets&#39;, code[i])</code>是将<code>BASE_DIR, &#39;sets&#39;, code[i]</code>三个参数组合成一个路径返回给<code>path</code>,后续还用了一个<code>if else</code>来判断这个目录是否存在，不存在即用<code>makedirs</code>创建目录。并创建并更新目录其中的<code>conut.txt</code>中的值，这个值是用来记录当前路径下字符验证码图片的数量。<code>ims[i].save(charname)</code>将验证码分隔后得到的图片保存到当前目录下。</li>
</ul>
<h4 id="实现代码-2"><a href="#实现代码-2" class="headerlink" title="实现代码"></a>实现代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">def save_imgs():</span><br><span class="line">    tmp = get_cnt() + 1</span><br><span class="line">    ims = process_pic(tmp)</span><br><span class="line">    code = var.get()</span><br><span class="line">    for i in range(4):</span><br><span class="line">        BASE_DIR = os.path.dirname(os.path.realpath(__file__))</span><br><span class="line">        path = os.path.join(BASE_DIR, &apos;sets&apos;, code[i])</span><br><span class="line">        if os.path.exists(path):</span><br><span class="line">            filepath = os.path.join(path, &apos;count.txt&apos;)</span><br><span class="line">            with open(filepath, &apos;r&apos;) as f:</span><br><span class="line">                char_cnt = eval(f.readline())</span><br><span class="line">        else:</span><br><span class="line">            os.makedirs(path)</span><br><span class="line">            filepath = os.path.join(path, &apos;count.txt&apos;)</span><br><span class="line">            with open(filepath, &apos;w&apos;) as f:</span><br><span class="line">                f.write(&apos;0&apos;)</span><br><span class="line">                char_cnt = 0</span><br><span class="line">        charname = os.path.join(path, str(char_cnt + 1) + &apos;.png&apos;)</span><br><span class="line">        ims[i].save(charname)</span><br><span class="line">        filepath = os.path.join(path, &apos;count.txt&apos;)</span><br><span class="line">        with open(filepath,&apos;w+&apos;) as f:</span><br><span class="line">            f.write(str(char_cnt + 1))</span><br><span class="line">    update_cnt(tmp)</span><br></pre></td></tr></table></figure>
<h4 id="代码测试-2"><a href="#代码测试-2" class="headerlink" title="代码测试"></a>代码测试</h4><p><img src="http://obr4sfdq7.bkt.clouddn.com/QQ截图20180419125209.png" alt="Alt text"></p>
<h3 id="预处理完整代码"><a href="#预处理完整代码" class="headerlink" title="预处理完整代码"></a>预处理完整代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"># @Date    : 2018-04-19 12:55:37</span><br><span class="line"># @Author  : Uknow (uknowsec@gmail.com)</span><br><span class="line"># @Link    : http://uknowsec.cn</span><br><span class="line"></span><br><span class="line">import tkinter as tk</span><br><span class="line">import requests</span><br><span class="line">from PIL import Image, ImageTk, ImageFilter</span><br><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line">from matplotlib import pyplot as plt</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_cnt():</span><br><span class="line">    try:</span><br><span class="line">        with open(&apos;count.txt&apos;, &apos;r&apos;) as f:</span><br><span class="line">            cnt = f.readline()</span><br><span class="line">            cnt = eval(cnt)</span><br><span class="line">        return cnt</span><br><span class="line">    except:</span><br><span class="line">        with open(&apos;count.txt&apos;, &apos;w&apos;) as f:</span><br><span class="line">            f.write(&apos;0&apos;)</span><br><span class="line">        return 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def update_cnt(cnt):</span><br><span class="line">    with open(&apos;count.txt&apos;, &apos;w+&apos;) as f:</span><br><span class="line">        f.write(str(cnt))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_checkcode(i):</span><br><span class="line">    r = requests.get(&apos;http://jwjx.njit.edu.cn/CheckCode.aspx?&apos;)</span><br><span class="line">    picname = str(i) + &apos;.png&apos;</span><br><span class="line">    with open(picname, &apos;wb&apos;) as f:</span><br><span class="line">        f.write(r.content)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def process_pic(i):</span><br><span class="line">    picname = str(i) + &apos;.png&apos;</span><br><span class="line">    im = Image.open(picname)</span><br><span class="line">    im = im.point(lambda i: i != 43, mode=&apos;1&apos;)</span><br><span class="line">    y_min, y_max = 0, 22  # im.height - 1 # 26</span><br><span class="line">    split_lines = [5, 17, 29, 41, 53]</span><br><span class="line">    ims = [im.crop([u, y_min, v, y_max])</span><br><span class="line">           for u, v in zip(split_lines[:-1], split_lines[1:])]</span><br><span class="line">    return ims</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_pic_for_display(i):</span><br><span class="line">    picname = str(i) + &apos;.png&apos;</span><br><span class="line">    im = Image.open(picname)</span><br><span class="line">    w, h = im.size</span><br><span class="line">    w_box = 300</span><br><span class="line">    h_box = 200</span><br><span class="line">    im_resized = resize(w, h, w_box, h_box, im)</span><br><span class="line">    tk_image = ImageTk.PhotoImage(im_resized)</span><br><span class="line">    return tk_image</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def resize(w, h, w_box, h_box, pil_image):</span><br><span class="line">    f1 = w_box / w</span><br><span class="line">    f2 = h_box / h</span><br><span class="line">    factor = min([f1, f2])</span><br><span class="line">    width = int(w * factor)</span><br><span class="line">    height = int(h * factor)</span><br><span class="line">    return pil_image.resize((width, height), Image.ANTIALIAS)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def display_pic():</span><br><span class="line">    global im</span><br><span class="line">    tmp = get_cnt() + 1</span><br><span class="line">    get_checkcode(tmp)</span><br><span class="line">    im = tk.PhotoImage(file=str(tmp) + &apos;.png&apos;)</span><br><span class="line">    im = get_pic_for_display(tmp)</span><br><span class="line">    picLabel[&apos;image&apos;] = im</span><br><span class="line">    cntLabel[&apos;text&apos;] = &apos;总计: &apos; + str(tmp - 1) + &apos;/1000&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def save_imgs():</span><br><span class="line">    tmp = get_cnt() + 1</span><br><span class="line">    ims = process_pic(tmp)</span><br><span class="line">    code = var.get()</span><br><span class="line">    for i in range(4):</span><br><span class="line">        BASE_DIR = os.path.dirname(os.path.realpath(__file__))</span><br><span class="line">        path = os.path.join(BASE_DIR, &apos;sets&apos;, code[i])</span><br><span class="line">        if os.path.exists(path):</span><br><span class="line">            filepath = os.path.join(path, &apos;count.txt&apos;)</span><br><span class="line">            with open(filepath, &apos;r&apos;) as f:</span><br><span class="line">                char_cnt = eval(f.readline())</span><br><span class="line">        else:</span><br><span class="line">            os.makedirs(path)</span><br><span class="line">            filepath = os.path.join(path, &apos;count.txt&apos;)</span><br><span class="line">            with open(filepath, &apos;w&apos;) as f:</span><br><span class="line">                f.write(&apos;0&apos;)</span><br><span class="line">                char_cnt = 0</span><br><span class="line">        charname = os.path.join(path, str(char_cnt + 1) + &apos;.png&apos;)</span><br><span class="line">        ims[i].save(charname)</span><br><span class="line">        filepath = os.path.join(path, &apos;count.txt&apos;)</span><br><span class="line">        with open(filepath, &apos;w+&apos;) as f:</span><br><span class="line">            f.write(str(char_cnt + 1))</span><br><span class="line">    update_cnt(tmp)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def submit():</span><br><span class="line">    save_imgs()</span><br><span class="line">    display_pic()</span><br><span class="line">    var.set(&apos;&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def init():</span><br><span class="line">    display_pic()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">global im</span><br><span class="line">app = tk.Tk()</span><br><span class="line">app.title(&apos;Labeller&apos;)</span><br><span class="line">app.geometry(&apos;500x260&apos;)</span><br><span class="line">picLabel = tk.Label(app)</span><br><span class="line">picLabel.pack()</span><br><span class="line">var = tk.StringVar()</span><br><span class="line">textInput = tk.Entry(app, textvariable=var)</span><br><span class="line">textInput.pack(expand=&apos;yes&apos;, fill=&apos;both&apos;, padx=100, side=&apos;top&apos;, pady=10)</span><br><span class="line">submitButton = tk.Button(app, text=&quot;提交&quot;, width=&apos;10&apos;, command=submit)</span><br><span class="line">submitButton.pack()</span><br><span class="line">cntLabel = tk.Label(app)</span><br><span class="line">cntLabel.pack(pady=20)</span><br><span class="line">init()</span><br><span class="line">app.mainloop()</span><br></pre></td></tr></table></figure>
<p><img src="http://obr4sfdq7.bkt.clouddn.com/labeller.gif" alt="Alt text"></p>
</div></article></div></section><footer><div class="paginator"><a href="/posts/notes/同源策略和跨域访问学习笔记.html" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2018 <a href="http://uknowsec.cn">uknow</a>  Stay hungry,Stay foolish.</p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-115504647-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?225ebcce29d319519ac7c7690425d1d4";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>